(function(p,f){"object"===typeof module&&"object"===typeof module.exports?module.exports=p.document?f(p):function(r){if(!r.document)throw Error("TagDeliveryContent requires a window with a document");return f(r)}:f(p)})("undefined"!==typeof window?window:this,function(p){var f={GLOBAL_NAME:"TagDeliveryContent",HOST:"ad.tagdelivery.com",PROTOCOL:"https://",MAP_KEY:"_m",RETRY:1250,TIMEOUT:7E3,LOADED:!1,requestCount:0,requestMap:{},callbacks:{},isLoaded:function(){return f.LOADED},onLoadHandler:function(b){f.LOADED=
!0;f.log("Page Loaded")}};p.addEventListener?p.addEventListener("load",f.onLoadHandler):p.attachEvent("onload",f.onLoadHandler);f.log=function(){this.Log.add.apply(this.Log,[].slice.call(arguments))};f.request=function(b,d){var a=new this.Request(b,d);this.requestMap[a.id]=a;a.send();this.requestCount++;return a.id};f.Util=function(){var b={};b.head=document.head||document.getElementsByTagName("head")[0];b.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var a=
16*Math.random()|0;return("x"==d?a:a&3|8).toString(16)})};b.attachScript=function(d,a){var c=document.createElement("script");"function"==typeof a&&(c.onerror=a);c.type="text/javascript";this.head.appendChild(c);c.src=d;return c};b.getType=function(d){var a=typeof d;"object"==a&&"[object Array]"===Object.prototype.toString.call(d)&&(a="array");return a};b.isArray=function(d){return"[object Array]"==Object.prototype.toString.call(d)};b.isObject=function(d){return"[object Object]"==Object.prototype.toString.call(d)};
b.isEmptyObject=function(d){for(var a in d)if(d.hasOwnProperty(a))return!1;return!0};b.arrayToQueryString=function(d){for(var a=[],c=0,e=d.length;c<e;c++){var g=d[c];"string"===typeof g?a.push(d[c].replace(/,/g,"%2C")):"number"===typeof g&&a.push(d[c])}return a.join(",")};b.objectToQueryString=function(d){var a=[],c;for(c in d)if(null!==d[c]){var e=this.getType(d[c]);e="array"==e&&0<d[c].length?this.arrayToQueryString(d[c]):"object"==e?encodeURIComponent(this.objectToQueryString(d[c])):encodeURIComponent(d[c]);
a.push(c+"="+e)}return a.join("&")};b.inArray=function(d,a){for(var c=0,e=d.length;c<e;c++)if(d[c]===a)return!0;return!1};b.getStyle=function(d){for(var a=document.styleSheets[0].rules||document.styleSheets[0].cssRules,c=0;c<a.length;c++)a[c].selectorText==d&&(a[c].cssText?alert(a[c].cssText):alert(a[c].style.cssText))};b.formatPrice=function(d,a,c){"string"!==typeof a&&(a="USD");return Number(d).toLocaleString(c,{style:"currency",currency:a})};b.shouldRender=function(d){for(var a=!1,c=0;c<d.length;c++)if(d[c].sponsored){a=
!0;break}return a};b.validateSponsoredCount=function(d){var a=0;if(f.Util.isArray(d))for(var c=0,e=d.length;c<e;c++)d[c].sponsored&&a++;else a+=d.sponsored?1:0;return a};b.decodeHtml=function(d){var a=document.createElement("textarea");a.innerHTML=d;return a.value};b.convertToTitleCase=function(d){return d.toLowerCase().replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})};b.mergeObjects=function(){for(var d={},a=0;a<arguments.length;a+=1)for(var c=arguments[a],e=Object.keys(c),g=0;g<e.length;g+=
1)d[e[g]]=c[e[g]];return d};b.containsAny=function(d,a){return d.filter(function(c){return-1<a.indexOf(c)})};b.filterTargets=function(d,a){return d.filter(function(c){return 0>a.indexOf(c)})};b.crossTargetEach=function(d,a){var c=b.containsAny(d,a);if(0<c.length){c=b.filterTargets(d,c);for(var e=0;e<c.length;e++)a.push(c[e])}return a};b.deduplicateArray=function(d){var a=[];(new Set(d)).forEach(function(c){a.push(c)});return a};return b}();f.Log=function(){return{entries:[],toConsole:!1,add:function(){var b=
[].slice.call(arguments);b.unshift(new Date);this.entries.push(b);this.toConsole&&this.print(b)},print:function(b){b=b.slice(0);b[0]=b[0].toTimeString().substr(0,8)+"."+("000"+b[0].getMilliseconds()).substr(-3);b.unshift(f.GLOBAL_NAME);try{console.log.apply(console,b)}catch(d){}}}}();f.Template=function(){var b={templates:{},attachStylesheet:function(d){var a=document.createElement("link");a.rel="stylesheet";a.href=d;f.Util.head.appendChild(a)},attachCss:function(d){var a=document.createElement("style");
a.type="text/css";a.innerHTML=d;f.Util.head.appendChild(a)},apply:function(d,a){return b.templates.hasOwnProperty(d)?b.templates[d](a):""}};return b}();f.Template.templates.css=function(b){return'.promote-iq { color: #000; font-family: Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; margin: 0;}.promote-iq .collection { float: left; position: relative; border: 1px solid #eee;}.promote-iq a:link { color: black; text-decoration: none;}.promote-iq .prod-tile { float: left;}.promote-iq .prod-img-block { float: left;}.promote-iq .prod-img-block img { max-width: 100%; max-height: 100%;}.promote-iq .prod-tile a { display: block; color: black;}.promote-iq .prod-description { float: left;}.promote-iq .prod-price-original { font-family: \'Gotham 5r\', Helvetica, Arial; font-size: 9px;}.promote-iq .prod-price-amount { font-size: 15px; font-family: \'Gotham 7r\', Helvetica, Arial; line-height: 15px;}.promote-iq .prod-name-block { font-family: "Gotham 4r", Helvetica, Arial, sans-serif; line-height: 18px; height: 36px; overflow: hidden; text-align: center;}.promote-iq .prod-name-block:hover { text-decoration: underline;}.promote-iq .prod-cta-button { color: black; background-color: transparent; font-size: 13px; margin-top: 10px; text-align: center; text-decoration: underline; font-weight: 600;}.promote-iq .promote-iq-featured-products-label { clear: both; color: black; background-color: transparent; font-size: 10px; height: 15px; line-height: 16px; position: absolute; left: 0px; right: 0px; bottom: 0px;}.promote-iq .promote-iq-featured-products-label > div { display: inline-block; padding: 0px 10px; text-align: center; background-color: #eee;}.promote-iq .prod-sale-color { color: red;}.promote-iq .prod-price-block { margin-bottom: 5px}.promote-rating { font-family: \'Gotham 5r\', Helvetica, sans-serif; font-size: 11px; display: flex; align-items: center; justify-content: center}.promote-prices { height: 40px;}.promote-price { font-family: "Gotham 5r", Helvetica, Arial, sans-serif;}.promote-iq.promote-iq-160x600 .collection .prod-tile { padding: 9px 9px 7px 6px; width: 140px;}.promote-iq.promote-iq-160x600 .collection .prod-tile a { display: flex; align-items: center; justify-content: center; flex-direction: column;}.promote-iq.promote-iq-160x600 .promote-iq-featured-products-label > div { display: block; text-align: center;}.promote-iq.promote-iq-160x600 .prod-description .prod-name-block { line-height: 18px; height: 38px; font-size: 13px;}.promote-iq.promote-iq-728x90 .prod-description .prod-name-block { line-height: 18px; height: 20px; font-size: 13px; text-align: left;}.promote-iq.promote-iq-728x90 .prod-description { padding-top: 2%; margin-left: auto;}.promote-iq.promote-iq-728x90 .prod-cta-button { font-size: 12px; text-align: left;}.promote-iq.promote-iq-728x90 .collection .prod-tile { padding: 0px 9px 0px 9px;}.promote-iq.promote-iq-728x90 .promote-iq-featured-products-label { left: auto;}.promote-iq.promote-iq-728x90 .prod-img-block { padding: 0px 10px 0px 0px;}.promote-iq.promote-iq-300x250 .prod-tile { width: 280px;}.promote-iq.promote-iq-300x250 .prod-description .prod-name-block { font-size: 13px;}.promote-iq.promote-iq-300x250 .collection .prod-tile { padding: 9px 9px 6px 9px;}.promote-iq.promote-iq-320x50 .promote-iq-featured-products-label { width: 50px; font-size: 8px; bottom: auto; left: auto; padding-top: 0px; line-height: 10px;}.promote-iq .promote-iq-featured-products-label > div { padding: 0px;}.promote-iq.promote-iq-320x50 .prod-name-block { font-size: 13px; line-height: 18px; font-family: Helvetica, Arial, sans-serif; height: 20px;}.promote-iq.promote-iq-320x50 .collection { width: 318px; height: 48px;}.promote-iq.promote-iq-320x50 .prod-tile { height: 48px;}.promote-iq.promote-iq-320x50 .prod-img-block { height: 46px; padding: 1px 10px 1px 5px;}.promote-iq.promote-iq-320x50 .prod-tile a { display: inline-flex;}.promote-iq.promote-iq-320x50 .prod-price-block { text-align: center; margin-bottom: auto; font-family: Gotham, Arial,Helvetica,sans-serif}.promote-iq.promote-iq-850x200 { font-family: \'Gotham 4r\', Helvetica, Arial;}.promote-iq.promote-iq-850x200 .prod-tile { margin-top: 10px;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label { font-family: "Gotham 5r", Helvetica, Arial, sans-serif; font-size: 20px; height: 15px; line-height: 15px; right: auto; bottom: 95%; width: 100%; text-align: center;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label>div { padding: 10px; background-color: white;}.promote-iq.promote-iq-850x200 .prod-name-block { font-family: "Gotham 5r", Helvetica, Arial, sans-serif; font-size: 12px; height: 39px;}.promote-iq.promote-iq-850x200 .collection { border: 1px solid #fff; padding-top: 20px;}.promote-iq.promote-iq-850x200 .collection .prod-tile a { display: flex; align-items: center; justify-content: center; flex-direction: column;}.promote-iq.promote-iq-850x200 .prod-description .prod-sale-price { text-align: center; color: #e01b22; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;}.promote-iq.promote-iq-850x200 .prod-description .prod-sale-price span { color: #e01b22;}.promote-iq.promote-iq-850x200 .prod-description .prod-original-price { text-align: center; font-family: "Gotham 5r", Helvetica, Arial, sans-serif; color: rgb(70, 70, 70)}'};
f.Template.templates.header=function(b){return'<div class="header"> <span class="label">Featured Items</span> <span class="ctl down">&#9660;</span> <span class="ctl up inactive">&#9650;</span></div>'};f.Template.templates.matrix_tile=function(b){var d='<div class="prod-tile"> <a href="'+b.click_tracker+b.product.landingPageUrl+'" target="_top"> <div class="prod-img-block"> <img src="'+b.product.imageLarge+'" alt="'+b.product.name+'" /> </div> <div class="prod-description"> ';d=b.product.onSale?d+
(' <div class=\'promote-prices\'> <div class="prod-sale-price" style="display: inline-block;"> <span class="sale-title" style=\'color: #e01b22;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;text-transform: uppercase; font-weight: bold; font-size:10px\'>Sale </span> <span style=\'color: #e01b22;font-size: 14px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+b.product.priceCurrentFormatted+'</span> </div> <div class="prod-original-price" style="display: inline-block;"> <span class="original-price-title" style=\'font-size: 10px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>Original </span> <span style=\'font-size: 10px; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+
b.product.priceListFormatted+"</span> </div> </div> "):d+(' <div class=\'promote-prices\'> <div class="prod-original-price"> <span class="original-price-title" style=\'font-size: 10px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>Original </span> <span style=\'font-size: 14px; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+b.product.priceListFormatted+"</span> </div> </div> ");return d+=' <div class="prod-name-block" title="'+b.product.name+'"> '+b.product.name+' </div> <div class="prod-cta-button"> SHOP NOW </div> </div> </a> <img style="display:none;" src="'+
b.impression_tracker+'" alt="" /></div>'};f.Template.templates.mobile_tile=function(b){var d='<div class="prod-tile"> <a href="'+b.click_tracker+b.product.landingPageUrl+'" target="_top"> <div class="prod-img-block"> <img src="'+b.product.imageLarge+'" alt="'+b.product.name+'" /> </div> <div class="prod-description" style=\'width: 220px; margin-left: -20px\'> <div class="prod-price-block"> ';d=b.product.onSale?d+(' <span style="font-size: 12px; font-weight: bold;  color: #e01b22;">Sale </span> <span style="font-size: 16px; font-weight: bold; color: #e01b22;">'+
b.product.priceCurrentFormatted+'</span> <span style="font-size: 11px; font-weight: bold; color: black;">Original </span> <span style="font-size:11px; font-weight: bold; color: black;">'+b.product.priceListFormatted+"</span> "):d+(' <span style="font-size: 12px; font-weight: bold; color: black;">Original </span> <span style="font-size: 16px; font-weight: bold; color: black;">'+b.product.priceListFormatted+"</span> ");return d+=' </div> <div class="prod-name-block" title="'+b.product.name+'"> '+b.product.name+
' </div> </div> </a> <img style="display:none;" src="'+b.impression_tracker+'" alt="" /></div>'};f.Template.templates.shelf=function(b){var d='<div class="prod-tile"> <a href="'+b.click_tracker+b.product.landingPageUrl+'" target="_top"> <div class="prod-img-block"> <img src="'+b.product.imageLarge+'" alt="'+b.product.name+'" /> </div> <div class="prod-description"> ';b.product.onSale?(d+=" <div class='promote-prices'> ",d="PMP"===b.product.type?d+(' <div class="prod-sale-price pmp" style=\'display: inline-grid; padding-right: 90px; text-align:left;\'> <span class="sale-title" style=\'font-family: "Gotham 5r", Helvetica, Arial, sans-serif;text-transform: uppercase; font-weight: bold; font-size:11px\'>Sale </span> <span style=\'font-size: 16px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+
b.product.priceCurrentFormatted+'</span> </div> <div class="prod-original-price pmp" style"text-align:left;"> <span class="original-price-title" style=\'font-size: 11px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>Original </span> <span style=\'font-size: 11px; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+b.product.priceListFormatted+"</span> </div> "):d+(' <div class="prod-sale-price"> <span class="sale-title" style=\'font-size: 12px; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>Sale </span> <span style=\'font-size: 16px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+
b.product.priceCurrentFormatted+'</span> </div> <div class="prod-original-price"> <span class="original-price-title" style=\'font-size: 11px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>Original </span> <span style=\'font-size: 11px; font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+b.product.priceListFormatted+"</span> </div> ")):(d+=" <div class='promote-prices'> ",d="PMP"===b.product.type?d+(' <div class="prod-original-price" style=\'display: inline-grid; padding-right: 90px;\'> <span class="original-price-title" style=\'font-family: "Gotham 5r", Helvetica, Arial, sans-serif; text-transform: uppercase; font-weight: bold; font-size:11px\'>Original </span><span style=\'font-size: 16px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'>'+
b.product.priceListFormatted+"</span> </div> "):d+(' <div class="prod-original-price"> <span class="original-price-title" style=\'font-size: 12px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'> Original </span> <span style=\'font-size: 16px;font-family: "Gotham 5r", Helvetica, Arial, sans-serif;\'> '+b.product.priceListFormatted+" </span> </div> "));d=d+' </div>  <div class="prod-name-block" title="'+(b.product.name+'"> '+b.product.name+" </div> <div class='promote-rating' style=\"height: 12.09px;\"> ");
d=b.product.rating?d+(' <div class="bd-carousel-review-count-container" style="margin-top: 20px; display: flex;"> <div class="bd-template-common-product-ratings star-small"> <div class="bd-template-common-product-rating rating-'+b.product.ratingPart1[0]+"-"+b.product.ratingPart2[0]+'"> </div> <div class="bd-template-common-product-rating rating-'+b.product.ratingPart1[1]+"-"+b.product.ratingPart2[1]+'"> </div> <div class="bd-template-common-product-rating rating-'+b.product.ratingPart1[2]+"-"+b.product.ratingPart2[2]+
'"> </div> <div class="bd-template-common-product-rating rating-'+b.product.ratingPart1[3]+"-"+b.product.ratingPart2[3]+'"> </div> <div class="bd-template-common-product-rating rating-'+b.product.ratingPart1[4]+"-"+b.product.ratingPart2[4]+'"> </div> </div> <span class="bd-carousel-review-count" style="padding-left: 3px;" aria-label="Star rating '+b.product.rating+' out of 5."> ('+b.product.reviews+")</span> </div> "):d+" <div></div> ";return d+=' </div> </a> <img style="display:none;" src="'+b.impression_tracker+
'" alt="" /></div>'};f.Template.templates.tile=function(b){var d='<div class="prod-tile"> <a href="'+b.click_tracker+b.product.landingPageUrl+'" target="_top"> <div class="prod-img-block"> <img src="'+b.product.imageLarge+'" alt="'+b.product.name+'" /> </div> <div class="prod-description"> ';728===b.width?(d+=' <div class="prod-price-block"> ',d=b.product.onSale?d+(' <span style="font-size: 12px; font-weight: bold;  color: red;">Sale </span><span style="font-size: 16px; font-weight: bold; color: red;">'+
b.product.priceCurrentFormatted+'</span> <span style="font-size: 11px; font-weight: bold; color: black;">Original </span><span style="font-size: 11px; font-weight: bold; color: black;">'+b.product.priceListFormatted+"</span> "):d+(' <span style="font-size: 12px; font-weight: bold; color: black;">Original </span><span style="font-size: 16px; font-weight: bold; color: black;">'+b.product.priceListFormatted+"</span> ")):(d+=' <div class="prod-price-block" style="text-align: center;"> ',d=b.product.onSale?
d+(' <div><span style="font-size: 12px; font-weight: bold;  color: red;">Sale </span><span style="font-size: 16px; font-weight: bold; color: red;">'+b.product.priceCurrentFormatted+'</span></div> <div><span style="font-size: 11px; font-weight: bold; color: black;">Original </span><span style="font-size: 11px; font-weight: bold; color: black;">'+b.product.priceListFormatted+"</span></div> "):d+(' <div><span style="font-size: 12px; font-weight: bold; color: black;">Original </span><span style="font-size: 16px; font-weight: bold; color: black;">'+
b.product.priceListFormatted+"</span></div> "));return d=d+' </div>  <div class="prod-name-block" title="'+(b.product.name+'"> '+b.product.name+' </div> <div class="prod-cta-button"> SHOP NOW </div> </div> </a> <img style="display:none;" src="'+b.impression_tracker+'" alt="" /></div>')};f.Pub=function(){p.sfIp=null;var b={rendered:{},prepareDefaultResponse:function(a){return{product_id:null,request_id:a.id,sponsored:!1,impression_tracker:null,click_tracker:null,product:null}}};get_gender=function(a){var c=
[];if(f.Util.isArray(a)&&0<a.length&&a[0].includes(","))c=a[0].split(",").map(function(g){return g.trim().toLowerCase()});else if(f.Util.isArray(a)&&0<a.length)for(var e=0;e<a.length;e++)c.push(a[e].trim().toLowerCase());else f.Util.isArray(a)&&1===a.length?c=[a[0].toLowerCase()]:"string"===typeof a&&(c=[a.trim().toLowerCase()]);return c};b.evaluateTargeting=function(a,c){var e={category:[]};if("/"===p.location.pathname||a.hasOwnProperty("unit")&&a.unit.includes("/homepage"))return e.category.push("/home"),
e;var g=[["age","age"],["gender","gen"],["brand","brd"]];if(a.hasOwnProperty("targeting")&&f.Util.isObject(a.targeting))for(var h=0,k=g.length;h<k;h++)e[g[h][0]]=null,a.targeting.hasOwnProperty(g[h][1])&&(e[g[h][0]]=a.targeting[g[h][1]]);e.gender=get_gender(e.gender);if(a.hasOwnProperty("unit")&&(g=a.unit.toLowerCase().replace(/^\/\d+\/?(header\/)?/,""),g.includes("beauty")?g=g.replace("beauty","health_and_beauty",1):g.includes("health_and_personal_care")&&(g=g.replace("health_and_personal_care",
"health_and_beauty",1)),0<g.length)){g=g.split("/");""===g[0]&&(g=g.slice(1));if("clothing"===g[0])if(void 0===e.gender||null===e.gender||0===e.gender.length)(null===e.age||e.hasOwnProperty("age")&&(0===e.age.length||"kids"===e.age.toString().toLowerCase()))&&e.category.push("/girls/clothing","/boys/clothing");else{if(1<e.gender.length)if(e.gender.includes("womens")||e.gender.includes("juniors"))var l="womens";else{if(e.gender.includes("mens")||e.gender.includes("teen guys"))l="mens"}else l=e.gender.toString();
if("womens"===l||"juniors"===l)g.unshift("womens");else if("mens"===l||"teen guys"===l)g.unshift("mens");else if("boys"===l||"girls"===l)"baby"===e.age.toString()?(newGender="baby_"+l,g.unshift(newGender)):g.unshift(l)}else"shoes"===g[0]?1<=e.gender.length?g.splice(1,0,e.gender[0]):"Kids"===e.age.toString()&&0===e.gender.length&&e.category.push("/shoes/boys","/shoes/girls"):"ros"===g[0]&&e.hasOwnProperty("age")&&null!==e.age&&"kids"===e.age.toString()&&("girls"===l?e.category.push("/girls/clothing"):
"boys"===l&&e.category.push("/boys/clothing"));if(0<g.length)for(l="",h=0,k=g.length;h<k;h++)l+="/"+g[h],52===a.height?h===k-2&&e.category.push(l):e.category.push(l)}e.category.includes("/gift_cards")&&e.category.push("/home");return e};b.validateRequestUniqueness=function(a){for(var c in f.requestMap)if(f.requestMap[c].parameters.slot==a)return!1;return!0};b.apiRequest=function(a,c,e,g,h){h=void 0===h?null:h;var k=a.width+"x"+a.height,l=p.location.pathname;l="dfp"===e&&a.unit.includes("/homepage")?
1340:"ctr"===e&&l.includes("/product/")?d.PDP.slot:"ctr"===e&&"#rr_result_list_page_pdp_ad_container"===g?d.PMP.slot:b.sizeMap[k].slot;if(1450===l||b.validateRequestUniqueness(l))return f.request({slot:l,targets:c,count:b.sizeMap[k].count,count_fill:b.sizeMap[k].hasOwnProperty("count_fill")?b.sizeMap[k].count_fill:null,url:a.hasOwnProperty("url")?a.url:""},function(n){var q=f.Util.validateSponsoredCount(n);if(q>=b.sizeMap[k].count||q>=b.sizeMap[k].count_fill)b.sizeMap[k].hasOwnProperty("count_fill")?
b._render(n.slice(0,b.sizeMap[k].count_fill),a.width,a.height,e,g,h):b._render(n.slice(0,b.sizeMap[k].count),a.width,a.height,e,g,h)})};b._render=function(a,c,e,g,h,k){k=void 0===k?null:k;f.Util.isArray(a)||(a=[a]);f.Template.attachCss(f.Template.apply("css"));var l=b.sizeMap[c+"x"+e].hasOwnProperty("count_fill")?b.sizeMap[c+"x"+e].count_fill:b.sizeMap[c+"x"+e].count;l=b.calculateTemplateDimensions(c,e,l);b.appendTemplateToClient(g,c,e,l.padding,a,h,k);b.applyCSS(l,g)};b.calculateTemplateDimensions=
function(a,c,e){var g=a,h=c,k=9,l=descriptionCalcDimension="height";"160x600"===a+"x"+c?g=95:"728x90"===a+"x"+c?(g=80,h=a-2,l=descriptionCalcDimension="width"):"300x250"===a+"x"+c?(g=95,h=c,descriptionCalcDimension="width"):"320x50"===a+"x"+c?(g=55,h=a,l=descriptionCalcDimension="width"):"850x200"===a+"x"+c?(g=140,h=a-2,l=descriptionCalcDimension="width"):"800x52"===a+"x"+c&&(g=41,h=a-2,l=descriptionCalcDimension="width");if("320x50"===a+"x"+c||"800x52"===a+"x"+c)k=0;return{width:a,height:c,tileDimension:l,
padding:k,imgWidth:g,descriptionCalcDimension:descriptionCalcDimension,complementaryDescriptionCalcLength:g,adjustedTileLength:h/e-2*k}};b.applyCSS=function(a,c){var e=p.location.pathname;a.width>a.height&&(f.Template.attachCss(".promote-iq .prod-description{margin-left:10px;}"),a.complementaryDescriptionCalcLength+=10);var g=".promote-iq.promote-iq-"+a.width.toString()+"x"+a.height;f.Template.attachCss(g+" .prod-tile{"+a.tileDimension+":"+a.adjustedTileLength+"px;padding:"+a.padding+"px;}"+g+" .prod-img-block{width:"+
a.imgWidth+"px;}"+g+" .collection {width:"+(a.width-2)+"px;height:"+(a.height-2)+"px;}");"850x200"===a.width+"x"+a.height?(f.Template.attachCss(".promote-iq .prod-description {"+a.descriptionCalcDimension+":100%;}.promote-iq.promote-iq-850x200 .collection{ margin-bottom: 30px; width: 850px; height: auto}"),e.includes("/catalog")?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{letter-spacing: .1em; text-transform: uppercase; font-size: 27px}.promote-iq.promote-iq-850x200 .prod-tile{width:143px;}"):
e.includes("/product/")?f.Template.attachCss(".promote-iq.promote-iq-850x200 .prod-tile {width:142px}.promote-iq.promote-iq-850x200 .collection {padding-top:40px; width: 800px}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{ font-family: 'Gotham 4r', Helvetica, sans-serif; font-size: 26px; letter-spacing: 2px;}"):"PMP"===c?f.Template.attachCss(g+" .promote-iq-featured-products-label.pmp {text-align:left;}"+g+' .promote-iq-featured-products-label.pmp div {text-align:left;font-weight: 700; font-family: "Gotham 5r",Helvetica,Arial; font-size: 13px;}'+
g+" .promote-prices {display:inline; height:60px}"+g+" .promote-prices .prod-original-price {text-align:left}"+g+" .prod-description {margin-left:auto}"+g+" .prod-name-block {text-align:left}"+g+" .promote-rating {justify-content: normal}"+g+" .prod-tile {width:140px}"+g+" .collection {margin-bottom:margin-bottom: 10px;}"+g+" .collection .prod-tile a {align-items: left}"+g+".prod-original-price.pmp {text-align:left;}"):"/feature/departments.jsp"===e?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{letter-spacing: 2px; font-size: 26px; font-family: 'Gotham 4r', Helvetica, sans-serif;}.promote-iq.promote-iq-850x200 {width: 1024px; margin: auto; padding-top: 30px;} .promote-iq.promote-iq-850x200 .prod-img-block {width: 200px}.promote-iq.promote-iq-850x200 .prod-tile {margin-left: 20px;}.promote-iq.promote-iq-850x200 .collection {width: 1024px;padding-top: 40px;}"):
"/sale-event/shoes.jsp"===e||"/sale-event/bed-and-bath.jsp"===e||"/sale-event/womens-clothing.jsp"===e||"/sale-event/mens-clothing.jsp"===e||"/sale-event/juniors-teens-clothing.jsp"===e?f.Template.attachCss('.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label>div {padding: 10px 30px 10px 30px;font-family: "Gotham 4r",Helvetica,Arial,sans-serif;font-size: 1.5em;letter-spacing:.0769em;text-align: center;color: rgb(70, 70, 70);}'):"/sale-event/coupons-deals.jsp"===e?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label :after {position: absolute; left: 0; top: -10px; height: 1px; background: #cccc; content: ''; width: 100%; display: block; z-index: 1;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{font-family: 'Gotham 4r', Helvetica, Arial, sans-serif;letter-spacing: 2px; margin-bottom: 20px;font-size: 26px;}.promote-iq.promote-iq-850x200 {padding-top:45px;}.promote-iq.promote-iq-850x200 .prod-tile {background-color: white;}.promote-iq.promote-iq-850x200 .collection{border: none;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label > div {background-color:#f1f1f1;}"):
"/"===e?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{ font-family: 'Gotham 4r', Helvetica, Arial, sans-serif; letter-spacing: 2px; padding-bottom: 10px;font-size: 26px;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label :after {position: absolute;left: 0; top: -10px; height: 1px; background: #ccc; content: ''; width: 100%; display: block; z-index: -1;}.promote-iq.promote-iq-850x200 .collection {width: 1024px; margin-bottom: 40px}.promote-iq.promote-iq-850x200 .prod-tile {width: 180px}.promote-iq.promote-iq-850x200 {width: 1024px; position: relative; margin: 0 auto; padding-top:20px;}"):
"/sale-event/gift-cards.jsp"===e?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{ font-family: 'Gotham 4r', Helvetica, Arial, sans-serif;letter-spacing: 2px; padding-bottom: 10px;font-size: 26px; border-top:1px solid #cccccc;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label>div {padding: 20px 10px 10px 10px;}"):"/sale-event/jewelry.jsp"===e?f.Template.attachCss(".promote-iq.promote-iq-850x200 .promote-iq-featured-products-label{font-size:28px}"):
"/sale-event/for-the-home.jsp"===e&&f.Template.attachCss('.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label > div {font-size: 26px;}.promote-iq.promote-iq-850x200 .promote-iq-featured-products-label {font-family: "Gotham 4r",Helvetica,Arial,sans-serif;letter-spacing: .0769em; padding: .384em;}.promote-iq.promote-iq-850x200 .collection {margin-top: 20px;}')):"320x50"===a.width+"x"+a.height?f.Template.attachCss(".promote-iq .prod-description{"+a.descriptionCalcDimension+":calc(100% - 160px);}.promote-iq.promote-iq-320x50 .collection{background-color: white;}"):
"800x52"===a.width+"x"+a.height?f.Template.attachCss(g+" .prod-name-block {max-width: 45%; text-align:left;line-height: 16px;}"+g+" .promote-iq-featured-products-label {left:auto;}"+g+' .prod-cta-button {text-align:right; margin-right:75px;margin-top:-45px;font-family:"Gotham 5r",Helvetica,Arial;}'+g+" .promote-prices {height:auto}"+g+" .collection {margin-bottom:20px}"+g+" .prod-description {width:auto;word-wrap: normal; margin-left:auto;float: none;}"+g+" .prod-img-block {padding: 5px 10px 0px 0px;}"):
f.Template.attachCss(".promote-iq .prod-description{"+a.descriptionCalcDimension+":calc(100% - "+a.complementaryDescriptionCalcLength+"px);}")};b.addProductLabel=function(a,c,e,g){g=void 0===g?null:g;var h=p.location.pathname,k=[],l=[];"/"!==h&&(k=h.split("/").pop(),k=k.split(".")[0],l=document.querySelectorAll(k));var n=document.createElement("div"),q=document.createElement("div");h.includes("gift-cards")||0===l.length?(n.className="promote-iq-featured-products-label",h.includes("/catalog")&&(n.className+=
" pmp"),"850x200"!==a+"x"+c?q.innerHTML="Kohl's Sponsored Products":null!=g?q.innerHTML=g:d.hasOwnProperty(h)&&d[h].hasOwnProperty("label")?q.innerHTML=d[h].label:q.innerHTML="FEATURED PRODUCTS",n.appendChild(q),"undefined"!==typeof separator&&e.appendChild(separator)):(separator=document.createElement("HR"),separator.className=k+"--adjustment1",separator.setAttribute("style","top:6%"),n.className="headline-callout "+k+"--adjustment2",n.setAttribute("style","top: -12%; width: 40%; margin-left: 30%; background-color: transparent;"),
q.setAttribute("style","margin: 0px; background-color: white;"),"850x200"!==a+"x"+c?q.innerHTML="Kohl's Sponsored Products":(a=document.createElement("H3"),a.setAttribute("style","font-family: 'Gotham 5r'"),null!=g?q.innerHTML=g:a.innerHTML=d[h].label?d[h].label:"FEATURED PRODUCTS",q.appendChild(a)),n.appendChild(q),e.appendChild(separator));e.appendChild(n)};createShelfContainer=function(a){var c=document.createElement("div");c.className="promote-container";for(var e=0;e<a;e++){var g=document.createElement("div");
g.className="child-container-"+e.toString();c.appendChild(g)}return c};b.appendTemplateToClient=function(a,c,e,g,h,k,l){l=void 0===l?null:l;var n=document.querySelector(k),q=document.createElement("div");q.className="promote-iq promote-iq-"+c+"x"+e;"#monetizationElements"===k||k.includes("#bottom-right")||k.includes(".equityarea")||k.includes("#hl_1")||k.includes("#rr_placement_0")||"#rr_horizontal_product_recommendations_div_id"===k||"#rr_result_list_page_pdp_ad_container"===k?n.parentNode.insertBefore(q,
n):"#content"===k||"#bd-recs-placeholder"===k||"#vn-box"===k||"#rr_result_list_page_pdp_ad_container"===k?$(q).insertAfter(n):n.appendChild(q);n=document.createElement("div");n.className="collection";for(var t=0,x=h.length;t<x;t++){var m=h[t];if(m.sponsored){m.caption=null;m.height=e;m.padding=g;m.product.priceListFormatted=f.Util.formatPrice(m.product.priceList,m.product.priceCurrency,b.language);m.product.priceCurrentFormatted=f.Util.formatPrice(m.product.priceCurrent,m.product.priceCurrency,b.language);
m.width=c;m.product.attachTo=k;m.product.type=a;if(null===m.product.rating||2.5>=m.product.rating)delete m.product.rating;else{textRating=m.product.rating.toFixed(1).split(".");var u=[0,0,0,0,0],w=[0,0,0,0,0];idx=parseInt(textRating[0])-1;u[idx]=1;w[idx+1]=parseInt(textRating[1]);for(var v=0;v<idx;v++)u[v]=1;m.product.ratingPart1=u;m.product.ratingPart2=w}m.product.imageLarge.includes("?")&&(m.product.imageLarge=m.product.imageLarge.split("?")[0]);"850x200"===c+"x"+e?(m.product.imageLarge+="?wid=140&hei=140&op_sharpen=1",
n.innerHTML+=f.Template.apply("shelf",m)):"320x50"===c+"x"+e?(m.product.imageLarge+="?wid=46&hei=46&op_sharpen=1",n.innerHTML+=f.Template.apply("mobile_tile",m)):(m.product.imageLarge+="?wid=95&hei=95&op_sharpen=1",n.innerHTML+=f.Template.apply("tile",m))}}b.addProductLabel(c,e,n,l);q.appendChild(n)};b.dfp={};b.ctr={};var d={"/sale-event/for-the-home.jsp":{attachTo:"#monetizationElements",targets:{category:["/bed_and_bath","/home_decor"]}},"/sale-event/baby.jsp":{attachTo:"#monetizationElements",
targets:{category:["/baby_girls/clothing","/baby_boys/clothing","/girls/clothing","/boys/clothing","/baby_gear"]}},"/sale-event/jewelry.jsp":{attachTo:"#monetizationElements",targets:{category:["/jewelry","/accessories","/health_and_beauty/personal_care/vision_care/eyeglasses"]}},"/sale-event/mens-clothing.jsp":{attachTo:"#monetizationElements",targets:{category:["/mens/clothing","/shoes/mens"]}},"/sale-event/shoes.jsp":{attachTo:"#content > div.mid_panel.cont-department.clearfix",targets:{category:["/shoes"]}},
"/sale-event/toys.jsp":{attachTo:"#monetizationElements",targets:{category:["/baby_girls/clothing","/baby_boys/clothing","/girls/clothing","/boys/clothing"]}},"/sale-event/womens-clothing.jsp":{attachTo:"#monetizationElements",targets:{category:["/womens/clothing"]}},"/sale-event/coupons-deals.jsp":{attachTo:"#bottom-right",targets:{category:["/womens/clothing/bottoms/pants"]},label:"FEATURED PRODUCTS",className:"promote-iq promote-iq-850x200 promote-home"},"/sale-event/gift-cards.jsp":{attachTo:"#monetizationElements",
targets:{category:["/home","/gift_cards"]}},"/sale-event/sports-and-fitness.jsp":{attachTo:"#monetizationElements",targets:{category:["/sports_and_fitness"]}},"/sale-event/juniors-teens-clothing.jsp":{attachTo:"#monetizationElements",targets:{category:["/womens/clothing/bottoms/pants"]}},"/sale-event/bed-and-bath.jsp":{attachTo:"#monetizationElements",targets:{category:["/bed_and_bath","/furniture","/home_decor"]}},"/sale-event/luggage-buying-guide.jsp":{attachTo:"#monetizationElements",targets:{category:["/luggage_and_suitcases",
"/accessories/accessories/garment_bags"]},label:"FEATURED TRAVELING ESSENTIALS"},PDP:{attachTo:"#rating-content",slot:1450,label:"RELATED FEATURED PRODUCTS"},"/feature/departments.jsp":{attachTo:"#content",targets:{category:["/home"]},className:"promote-iq promote-iq-850x200 promote-home",label:"FEATURED PRODUCTS"},PMP:{attachTo:"#vn-box",slot:1485,label:"Featured Products"},"/sale-event/health-and-beauty.jsp":{attachTo:"#monetizationElements",targets:{category:["/health_and_beauty"]}},"/sale-event/furniture-and-decor.jsp":{attachTo:"#monetizationElements",
targets:{category:["/furniture"]}}};b.language=navigator.language.toLowerCase();b.sizeMap={"160x600":{count:2,slot:1190},"728x90":{count:2,slot:1185},"300x250":{count:2,slot:1245},"850x200":{count:5,slot:1240},"320x50":{count:1,slot:1255},"800x52":{count:2,slot:1565}};b.ctr.renderShelf=function(a){$.get("https://www.cloudflare.com/cdn-cgi/trace",function(h){h=h.split("ts=")[0].split("ip=")[1].trim();console.log(h);p.sfIp=h});var c=p.hasOwnProperty("googletag")&&p.googletag.hasOwnProperty("pubads")?
{targeting:{gen:get_gender(googletag.pubads().getTargeting("gen"))||[],age:googletag.pubads().getTargeting("age")||[],brd:googletag.pubads().getTargeting("brd")||[]}}:{targeting:{gen:pageData.hasOwnProperty("saleDetails")?get_gender(pageData.saleDetails.genderValues)||[]:[],age:[],brd:[]}};c.width=a?a.width?a.width:850:850;c.height=a?a.height?a.height:200:200;var e=p.location.pathname;if(e.includes("/catalog"))return a=googletag.hasOwnProperty("pubads")?googletag.pubads().getSlots()[0].getAdUnitPath():
pageData.pmpDetails.departmentName.replace("&","and").replace(/ /g,"_"),c.unit=a,c.targeting.gen=pageData.pmpDetails.genderValues,a=b.evaluateTargeting(c,"ctr"),e=d.PMP.label,b.apiRequest(c,a,"ctr","#rr_result_list_page_pdp_ad_container",e);if(e.includes("/product/")){c.unit=productV2JsonData.monetizationData.adUnit;a=c.unit.includes("/ROS")?{category:["/ros"],match_products:[pageData.productDetails.pageItems[0].productSKU]}:b.evaluateTargeting(c,"ctr");var g=d.PDP.attachTo;e=d.PDP.label;return b.apiRequest(c,
a,"ctr",g,e)}if(d[e])return a=d[e].targets,g=d[e].attachTo,e=d[e].label?d[e].label:null,b.apiRequest(c,a,"ctr",g,e);console.log("Spotfront: No shelf for this page")};b.dfp.render=function(a){if(a.targeting.hasOwnProperty("pgname")){var c="/sale-event/"+a.targeting.pgname;c=a.unit.includes("/ROS")&&d.hasOwnProperty(c)?d[c].targets:b.evaluateTargeting(a,"dfp")}else{if(a.unit.includes("/ROS")&&a.url.includes("/catalog")){c=a.url.split("=")[1].split("+");for(var e={},g=0;g<c.length;g++){var h=c[g].split(":");
e[h[0]]=h[1].split("&")[0]}a.unit=e.Department+"/"}c=b.evaluateTargeting(a,"dfp")}return b.apiRequest(a,c,"dfp","body")};return b}();f.Request=function(){return function(b,d){this.id=f.Util.generateUuid();this.inputs=null;this.parameters={targets:null,slot:null,deferred:null,batch:null,pos:null,format:null,width:null,height:null,callback:null,passthru:null,template:null,count:null,count_fill:null,attributes:null,url:null};this.callback=d;this.timeoutRef={};this.retryAfter=f.RETRY;this.timeLeft=f.TIMEOUT;
this.numTries=0;this.locked=!1;this.active=!0;this.map=!1;this.baseUrl=f.PROTOCOL+f.HOST+"/request?";this.url=null;this.requestedAt=+new Date;this.renderedAt=this.returnedAt=this.receivedAt=this.sentAt=null;f.log("received request",this.id,this.inputs);this.applyInputs=function(a){if("object"==typeof a){this.inputs=f.Util.mergeObjects(a);for(var c in a)this.parameters.hasOwnProperty(c)&&(this.parameters[c]=a[c])}else this.inputs=a};this.applyInputs(b);this.modifyForPub=function(){if("function"==typeof f.Pub.modifyRequest){var a=
f.Pub.modifyRequest(this);if("object"==typeof a)for(var c in a)"inputs"!==c&&(this[c]=a[c])}};this.getCallbackKey=function(){return"_"+this.id.replace(/-/g,"_")};this.registerCallback=function(){var a=this.getCallbackKey();null===this.parameters.callback&&(this.parameters.callback=[f.GLOBAL_NAME,"callbacks",a].join("."));var c=this.id;f.callbacks[a]=function(e){f.requestMap[c].processResponse(e)}};this.setRetryTime=function(a){this.timeLeft=a||f.TIMEOUT;this.retryAfter=Math.min(this.timeLeft||this.retryAfter,
f.RETRY)};this.setRetry=function(){var a=this;this.timeoutRef=setTimeout(function(){0>=a.timeLeft?a.cancel():f.isLoaded()?(f.log("resending after",a.id,+new Date-a.requestedAt),a.numTries++,a.cancel()):(f.log("Pseudo timeout during loading",a.id,a.url),a.setRetry())},a.retryAfter||f.RETRY);f.isLoaded()&&(this.retryAfter=Math.min(this.retryAfter,this.timeLeft),this.timeLeft-=this.retryAfter)};this.noRetry=function(){clearTimeout(this.timeoutRef)};this.setUrl=function(){"function"==typeof f.Pub.buildUrl?
this.url=f.Pub.buildUrl(this):this.map&&!this.inputs.hasOwnProperty(f.MAP_KEY)?this.url="function"==typeof f.Pub.getMapRequest?f.Pub.getMapRequest(this):"https://tools.tagdelivery.com/requests/map?request="+encodeURIComponent(JSON.stringify({id:this.id,parameters:this.parameters})):this.url=this.baseUrl+f.Util.objectToQueryString(this.parameters)};this.send=function(){this.locked||(this.modifyForPub(),this.setRetryTime(),this.locked=!0);if(this.active){this.setRetry();this.registerCallback();this.setUrl();
this.sentAt=+new Date;var a=this,c=f.Util.attachScript(this.url,Function.prototype.bind?this.cancel.bind(this):function(){a.cancel()});c.parentNode.removeChild(c);f.log("url called after",this.id,this.sentAt-this.requestedAt,this.numTries,this.url)}};this.processResponse=function(a){0!==a.length&&a?(this.noRetry(),this.receivedAt=+new Date,"function"==typeof f.Pub.modifyResponse&&(a=f.Pub.modifyResponse(this,a))):(this.returnedAt=+new Date,this.renderedAt=+new Date,f.log("empty/null/undefined response",
this.id,this.returnedAt-this.returnedAt,a));this.respond(a)};this.cancel=function(){this.active=!1;clearTimeout(this.timeoutRef);f.log("cancelled request",this.id);var a=f.Pub.prepareDefaultResponse(this);if(null!==this.parameters.count&&1!=this.parameters.count){for(var c=[],e=0,g=this.parameters.count;e<g;e++)c.push(a);this.respond(c)}else this.respond(a)};this.respond=function(a){this.returnedAt=+new Date;f.log("closing request",this.id,this.returnedAt-this.receivedAt,a);this.callback(a);this.renderedAt=
+new Date;f.log("callback finished",this.id,this.renderedAt-this.receivedAt,this.renderedAt-this.returnedAt)};this.update=function(a){f.log("updating request",this.id);"function"==typeof f.Pub.applyMapResponse?(f.Pub.applyMapResponse(this,a),this.inputs[f.MAP_KEY]=1,this.map=!1,this.noRetry(),this.send()):this.applyInputs(a);this.locked=!1;this.map&&this.inputs.hasOwnProperty(f.MAP_KEY)&&(this.noRetry(),this.send())}}}();"function"===typeof define&&define.amd&&define("tagDeliveryContent",[],function(){return f});
p[f.GLOBAL_NAME]=f;f.hasOwnProperty("Pub")&&"object"===typeof f.Pub&&f.Pub.hasOwnProperty("GLOBAL_NAME")&&f.GLOBAL_NAME!=f.Pub.GLOBAL_NAME&&(p[f.Pub.GLOBAL_NAME]=f);if(p.hasOwnProperty("TagDeliveryQueue"))for(var r=0;r<p.TagDeliveryQueue.length;r++)"Pub.ctr.renderShelf"==p.TagDeliveryQueue[r]&&p[f.GLOBAL_NAME].Pub.ctr.renderShelf();String.prototype.includes||(String.prototype.includes=function(b,d){"number"!==typeof d&&(d=0);return d+b.length>this.length?!1:-1!==this.indexOf(b,d)});Array.prototype.includes||
Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(b){return 0<this.filter(function(d){return d==b}).length}});return f});