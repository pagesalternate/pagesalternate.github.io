webpackJsonp([3],{10:function(e,t,i){"use strict";"undefined"===typeof Promise&&(i(20).enable(),window.Promise=i(21)),i(22),Object.assign=i(15)},101:function(e,t,i){i(10),e.exports=i(102)},102:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),n=i.n(r),o=i(11),a=i.n(o),l=i(2),s=i(103),c=i(105),u=window.settings.itemsList,h=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={"video-player-replay":"video-gallery-replay","show-description":"video-gallery-show-description","hide-description":"video-gallery-hide-description",selection:"video-gallery-video-selection","video-player-next":"video-gallery-next","video-player-previous":"video-gallery-previous","video-player-full-screen":"video-gallery-full-screen","video-player-exit-full-screen":"video-gallery-exit-full-screen"};if(r[e]&&(e=r[e]),"view"!==e&&"next"!==e&&"previous"!==e){var n={};Object.keys(i).length||(n.asset=u[t].src.src,n["asset-type"]="video",n["asset-wrapper"]="video-gallery",n["index-in-collection"]=t,n["collection-size"]=u.length,n["asset-title"]=u[t].caption,n.interactive=!0,i=n),i["section-layout"]=window.settings.layout,window.settings.reportEventFunc(e,i)}},d=new c.a(window.settings,h),p=window.settings.isLifestyle?"wc-videoGalleryLifestyle":"wc-mediaGallery";document.getElementsByTagName("body")[0].insertAdjacentHTML("afterbegin",'<div class="'+p+'"></div>'),a.a.render(n.a.createElement(l.a,{stores:d},n.a.createElement(s.a,null)),document.getElementsByClassName(p)[0])},103:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,l,s=i(0),c=i.n(s),u=i(2),h=i(104),d=i(17),p=i(3),y=i.n(p),m=i(18),f=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),b=(a=Object(u.b)("stores"))(l=Object(u.c)(l=function(e){function t(){return r(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;window.reactLoaded=!0,window.addEventListener("video-play",function(){e.props.stores.videoGalleryStore.setIsFirstPlay(!1),e.props.stores.videoGalleryStore.setIsVideoPaused(!1)}),window.addEventListener("video-loader-started",function(){e.props.stores.videoGalleryStore.setIsVideoLoading(!0)}),window.addEventListener("video-loader-finished",function(){e.props.stores.videoGalleryStore.setIsVideoLoading(!1)}),window.addEventListener("video-pause",function(){e.props.stores.videoGalleryStore.setIsVideoPaused(!0)}),window.addEventListener("video-fullscreen-mode-enabled",function(){e.props.stores.videoGalleryStore.commonGalleryStore.toggleFullScreen()}),window.addEventListener("video-fullscreen-mode-disabled",function(){e.props.stores.videoGalleryStore.commonGalleryStore.toggleFullScreen()}),window.addEventListener("age-gate-passed",function(){e.props.stores.videoGalleryStore.setAgeGatePassed(!0)})}},{key:"render",value:function(){var e=this.props.stores.videoGalleryStore,t=function(){e.lifestyleShowDescriptionAndHideAfterTimeoutDesktop()};return c.a.createElement("div",{className:y()({"wc-video-gallery":!0,"wc-mobile":e.commonGalleryStore.isMobile,"wc-first-play":e.isFirstPlay,"wc-hidden-desc-default":!e.isCapOpenByDefault,"wc-video-paused":e.isVideoPaused,"wc-video-loading":e.isVideoLoading,"wc-moving-mouse":e.isMouseMovingOverViewArea,"wc-thumbnails-left":e.isThumbnailsOnTheLeft,"wc-no-thumbnails":!e.isThumbnailsAvailable(),"wc-fullscreen":e.commonGalleryStore.isFullScreen,"wc-rtl":e.commonGalleryStore.isRTL,"wc-lifestyle":e.isLifestyle,"wc-disable-thumbnails":!e.ageGatePassed}),style:{width:e.galleryWidth,height:e.galleryHeight}},c.a.createElement(h.a,{onMouseMoveHandler:t},c.a.createElement(m.a,{caption:e.selectedVideo.caption,description:e.selectedVideo.description,ariaLabelShow:e.altTexts.showDescription,ariaLabelHide:e.altTexts.hideDescription})),e.isThumbnailsAvailable()&&c.a.createElement(d.a,{ariaLabelSlideNext:e.altTexts.slideThumbnailsNext,ariaLabelSlidePrev:e.altTexts.slideThumbnailsPrev,ariaLabelThumbnailTemplate:e.altTexts.videoOf}))}}]),t}(s.Component))||l)||l;t.a=b},104:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(33),l=i(3),s=i.n(l),c=function(e){var t=e.stores,i=e.children,r=e.onMouseMoveHandler,o=t.videoGalleryViewStore,l=function(e){o.setIndex(e)};return n.a.createElement("div",{onTouchEnd:r,onMouseMove:r,onClick:r,className:"wc-view-container",style:{height:o.containerHeight,width:o.containerWidth}},n.a.createElement("div",{className:s()({"wc-viewer":!0}),"aria-live":"polite"},n.a.createElement(a.a,{height:o.containerHeight,width:o.containerWidth,indexChangeHandler:l,videoIndex:o.galleryIndex,videoReportingFunc:o.reportEventFunc,isVisible:!0,index:"viewer",json:o.videos,videoSettings:o.videoSettings})),i)};t.a=Object(o.b)("stores")(Object(o.c)(c))},105:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=i(106),o=i(108),a=i(13),l=i(19),s=i(4),c=function e(t,i){r(this,e),this.videoGalleryStore=new n.a(t,i),this.videoGalleryViewStore=new o.a(this.videoGalleryStore,i),this.sliderStore=new a.a(this.videoGalleryStore,s.d),this.captionDescriptionStore=new l.a(this.videoGalleryViewStore,t.isCapDescOpenByDefault)};t.a=c},106:function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var a,l,s,c,u,h,d=i(1),p=i(9),y=i(5),m=i(107),f=i(4),b=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),g=(a=function(){function e(t,i){var o=this;n(this,e),r(this,"isFirstPlay",l,this),r(this,"isMouseMovingOverViewArea",s,this),r(this,"isVideoPaused",c,this),r(this,"isVideoLoading",u,this),this.mouseMovingOverViewAreaTimeout=null,r(this,"ageGatePassed",h,this),this.commonGalleryStore=new p.a(t,i),this.isLifestyle="lifestyle"===this.commonGalleryStore.layout,this.altTexts=t.altTexts,this.resizeContainerFunc=t.resizeContainerFunc,this.thumbnailHeight=this.commonGalleryStore.isMobile?f.d.SLIDER_THUMBNAILS_HEIGHT_MOBILE:f.d.SLIDER_THUMBNAILS_HEIGHT,this.thumbnailWidth=this.commonGalleryStore.isMobile?f.d.SLIDER_THUMBNAILS_WIDTH_MOBILE:f.d.SLIDER_THUMBNAILS_WIDTH,this.videoSettings=t.videoSettings,this.isCapOpenByDefault=t.isCapDescOpenByDefault,this.videos=this.commonGalleryStore.itemsList.map(function(e){return e.height=e.maxHeight,e.width=e.maxWidth,e}),this.thumbnails=this.commonGalleryStore.itemsList.map(function(e){var t={};return t.src=e.thumbnailUrl,t.caption=e.caption,t.height=e.height,t.width=e.width,t.duration=m.a.normilizeSecondsToReadableDuration(e.duration),t}),Object(d.autorun)(function(){o.commonGalleryStore.isFullScreen||o.resizeContainerFunc(o.galleryHeight)})}return b(e,[{key:"decrementMediaIndex",value:function(){this.commonGalleryStore.decrementMediaIndex()}},{key:"incrementMediaIndex",value:function(){this.commonGalleryStore.incrementMediaIndex()}},{key:"setAgeGatePassed",value:function(e){this.ageGatePassed=e}},{key:"setIsMouseMovingOverViewArea",value:function(e){this.isMouseMovingOverViewArea=e}},{key:"lifestyleShowDescriptionAndHideAfterTimeoutDesktop",value:function(){var e=this;clearTimeout(this.mouseMovingOverViewAreaTimeout),this.setIsMouseMovingOverViewArea(!0),this.mouseMovingOverViewAreaTimeout=setTimeout(function(){e.setIsMouseMovingOverViewArea(!1)},2e3)}},{key:"setIsFirstPlay",value:function(e){this.isFirstPlay=e}},{key:"setIsVideoLoading",value:function(e){this.isVideoLoading=e}},{key:"setIsVideoPaused",value:function(e){this.isVideoPaused=e}},{key:"isThumbnailsAvailable",value:function(){return this.videos.length>1&&!this.isLifestyle}},{key:"selectedVideo",get:function(){var e=this.commonGalleryStore.currMediaIndex;return this.videos[e]}},{key:"galleryWidth",get:function(){return this.commonGalleryStore.currGalleryMaxWidth}},{key:"galleryHeight",get:function(){return this.commonGalleryStore.isFullScreen?this.commonGalleryStore.windowHeight:this.isThumbnailsAvailable()?this.isThumbnailsOnTheLeft?this.maxViewHeight:this.maxViewHeight+f.d.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW+this.thumbnailHeight:this.maxViewHeight}},{key:"maxViewHeight",get:function(){var e=this.commonGalleryStore,t=e.currGalleryMaxWidth,i=e.windowHeight,r=e.isFullScreen,n=e.limitedHeightBySite,o=y.a.findTallestImage(this.videos),a=o.height/o.width,l=Math.min(o.width,t),s=null!==n?Math.min(f.d.MAX_VIEW_HEIGHT_BY_DEVICE,n):f.d.MAX_VIEW_HEIGHT_BY_DEVICE,c=r?i-this.thumbnailHeight-f.d.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW:s;return this.commonGalleryStore.isMobile&&this.commonGalleryStore.windowHeight<this.commonGalleryStore.windowWidth?this.commonGalleryStore.windowHeight-50:Math.ceil(Math.max(Math.min(l*a,c),f.d.MIN_VIEW_HEIGHT))}},{key:"viewHeight",get:function(){return this.commonGalleryStore.isFullScreen?this.commonGalleryStore.windowHeight:this.maxViewHeight}},{key:"viewWidth",get:function(){return this.commonGalleryStore.isMobile&&this.commonGalleryStore.isFullScreen?this.commonGalleryStore.currGalleryMaxWidth:this.isThumbnailsAvailable()&&this.isThumbnailsOnTheLeft?this.commonGalleryStore.currGalleryMaxWidth-this.thumbnailWidth-f.d.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW:this.commonGalleryStore.currGalleryMaxWidth}},{key:"isThumbnailsOnTheLeft",get:function(){var e=this;if(!this.isThumbnailsAvailable()||this.commonGalleryStore.isFullScreen)return!1;var t=this.commonGalleryStore,i=t.currGalleryMaxWidth,r=t.limitedHeightBySite,n=0,o=0;this.videos.forEach(function(t){var r=t.maxHeight/t.maxWidth,a=Math.min(t.maxWidth,i),l=a*r,s=Math.min(e.maxViewHeight,l),c=s/r;c>n&&(n=c,o=s)});var a=i>=n+f.d.SLIDER_THUMBNAILS_MARGIN+this.thumbnailWidth;return null!==r&&!a&&o+f.d.SLIDER_THUMBNAILS_MARGIN+this.thumbnailHeight>r||a}}]),e}(),l=o(a.prototype,"isFirstPlay",[d.observable],{enumerable:!0,initializer:function(){return!0}}),s=o(a.prototype,"isMouseMovingOverViewArea",[d.observable],{enumerable:!0,initializer:function(){return!1}}),c=o(a.prototype,"isVideoPaused",[d.observable],{enumerable:!0,initializer:function(){return!0}}),u=o(a.prototype,"isVideoLoading",[d.observable],{enumerable:!0,initializer:function(){return!1}}),h=o(a.prototype,"ageGatePassed",[d.observable],{enumerable:!0,initializer:function(){return!1}}),o(a.prototype,"setAgeGatePassed",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"setAgeGatePassed"),a.prototype),o(a.prototype,"selectedVideo",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"selectedVideo"),a.prototype),o(a.prototype,"galleryWidth",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryWidth"),a.prototype),o(a.prototype,"galleryHeight",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryHeight"),a.prototype),o(a.prototype,"maxViewHeight",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"maxViewHeight"),a.prototype),o(a.prototype,"viewHeight",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"viewHeight"),a.prototype),o(a.prototype,"viewWidth",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"viewWidth"),a.prototype),o(a.prototype,"isThumbnailsOnTheLeft",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"isThumbnailsOnTheLeft"),a.prototype),o(a.prototype,"setIsMouseMovingOverViewArea",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"setIsMouseMovingOverViewArea"),a.prototype),o(a.prototype,"lifestyleShowDescriptionAndHideAfterTimeoutDesktop",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"lifestyleShowDescriptionAndHideAfterTimeoutDesktop"),a.prototype),o(a.prototype,"setIsFirstPlay",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"setIsFirstPlay"),a.prototype),o(a.prototype,"setIsVideoLoading",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"setIsVideoLoading"),a.prototype),o(a.prototype,"setIsVideoPaused",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"setIsVideoPaused"),a.prototype),a);t.a=g},107:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return n(e,[{key:"normilizeSecondsToReadableDuration",value:function(e){function t(e){return e=parseInt(e,10),e>=10?e:"0"+e}return e?function(e){var i=Math.floor(e/3600),r=Math.floor(e/60);return e-=60*r,i>=1?(r-=60*i,t(i)+":"+t(r)+":"+t(e)):r+":"+t(e)}(e):""}}]),e}();t.a=new o},108:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,a=i(1),l=i(4),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),c=(o=function(){function e(t,i){var n=this;r(this,e),this.rootStore=t,this.videoSettings=t.videoSettings,this.videos=t.videos,this.isMobile=t.commonGalleryStore.isMobile,this.reportEventFunc=function(e,t){i(e,n.rootStore.commonGalleryStore.currMediaIndex,t)},this.captionHeightDivider=t.commonGalleryStore.isMobile?l.d.MOBILE_CAPTION_HEIGHT_DIVIDER:l.d.DESKTOP_CAPTION_HEIGHT_DIVIDER}return s(e,[{key:"setIndex",value:function(e){e<this.galleryIndex?this.rootStore.decrementMediaIndex():this.rootStore.incrementMediaIndex()}},{key:"galleryIndex",get:function(){return this.rootStore.commonGalleryStore.currMediaIndex}},{key:"containerWidth",get:function(){return this.rootStore.viewWidth}},{key:"containerHeight",get:function(){return this.rootStore.viewHeight}}]),e}(),n(o.prototype,"galleryIndex",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"galleryIndex"),o.prototype),n(o.prototype,"containerWidth",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"containerWidth"),o.prototype),n(o.prototype,"containerHeight",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"containerHeight"),o.prototype),o);t.a=c},13:function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var a,l,s,c=i(1),u=i(14),h=i(6),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),p=(a=function(){function e(t,i){var o=this;n(this,e),this.rootStore={},this.consts=[],this.thumbnails=[],r(this,"sliderStep",l,this),r(this,"sliderPositionMobile",s,this),this.kineticScroll=new u.a(function(e){o.mobileSlide(e)}),this.rootStore=t,this.thumbnails=t.thumbnails,this.isMobile=t.commonGalleryStore.isMobile,this.consts=i,Object(c.intercept)(this.rootStore.commonGalleryStore,"currMediaIndex",function(e){return o.rootStore.commonGalleryStore.currMediaIndex!==e.newValue&&(o.setSliderStep(o.calculateAnimationSteps.thumbnailSpots[e.newValue]),o.isMobile&&o.isThumbnailNotInView(e.newValue)&&o.doThumbnailsGoOutsideTheScreen&&o.kineticScroll.customScroll(-1*o.calculateSliderPosition)),e}),Object(c.autorun)(function(){o.rootStore.commonGalleryStore.windowWidth&&!o.isMobile&&o.setSliderStep(o.calculateAnimationSteps.thumbnailSpots[o.rootStore.commonGalleryStore.currMediaIndex])})}return d(e,[{key:"updateMainGalleryIndex",value:function(e){this.rootStore.commonGalleryStore.setMediaIndex(e)}},{key:"updateSliderAccessibility",value:function(e){this.setSliderStep(this.calculateAnimationSteps.thumbnailSpots[e])}},{key:"shouldShowSlider",value:function(){return this.thumbnails.length>1}},{key:"setSliderStep",value:function(e){this.sliderStep=e}},{key:"slideMenuLeft",value:function(){this.sliderStep-1<0||this.sliderStep--}},{key:"slideMenuRight",value:function(){this.sliderStep+1!==this.calculateAnimationSteps.slideStepPositions.length&&this.sliderStep++}},{key:"mobileSlide",value:function(e){this.sliderPositionMobile=e}},{key:"isThumbnailNotInView",value:function(e){var t=this.sliderPositionMobile,i=-1*((e+1)*(this.thumbnailSize+this.consts.SLIDER_THUMBNAILS_MARGIN)-this.consts.SLIDER_THUMBNAILS_MARGIN),r=i+this.sliderContainerSize+this.thumbnailSize;return!(t>i&&t<r)}},{key:"thumbnailHeight",get:function(){return this.rootStore.thumbnailHeight}},{key:"thumbnailWidth",get:function(){return this.rootStore.thumbnailWidth}},{key:"galleryIndex",get:function(){return this.rootStore.commonGalleryStore.currMediaIndex}},{key:"isSliderVertical",get:function(){return this.rootStore.isThumbnailsOnTheLeft}},{key:"galleryHeight",get:function(){return this.rootStore.galleryHeight}},{key:"galleryWidth",get:function(){return this.rootStore.galleryWidth}},{key:"isFullScreen",get:function(){return this.rootStore.commonGalleryStore.isFullScreen}},{key:"sliderContainerSize",get:function(){return this.isSliderVertical?this.galleryHeight:this.galleryWidth}},{key:"thumbnailSize",get:function(){return this.isSliderVertical?this.thumbnailHeight:this.thumbnailWidth}},{key:"calculateSliderFullSize",get:function(){return this.thumbnails.length*(this.thumbnailSize+this.consts.SLIDER_THUMBNAILS_MARGIN)-this.consts.SLIDER_THUMBNAILS_MARGIN}},{key:"doThumbnailsGoOutsideTheScreen",get:function(){var e=this.sliderContainerSize;return this.calculateSliderFullSize>e}},{key:"shouldShowNavigation",get:function(){return!this.isMobile&&this.doThumbnailsGoOutsideTheScreen}},{key:"calculateAnimationSteps",get:function(){var e=this,t=this.sliderContainerSize,i=0,r=0,n=0,o=0,a=[],l=[];return a[0]=0,this.thumbnails.forEach(function(s,c){var u=0===c,h=e.thumbnailSize+(u?0:e.consts.SLIDER_THUMBNAILS_MARGIN);n+h<t?n+=h:(r+=n,n=h,i++,a[i]=r,o++),l[c]=i}),a[o]=this.calculateSliderFullSize-t,{thumbnailSpots:l,slideStepPositions:a}}},{key:"numOfAvailableSpots",get:function(){return this.calculateAnimationSteps.slideStepPositions.length}},{key:"calculateSliderPosition",get:function(){var e=this.sliderContainerSize;return this.calculateSliderFullSize>e?h.a.normalizeMinusZero(-1*this.calculateAnimationSteps.slideStepPositions[this.sliderStep]):(this.sliderContainerSize-this.calculateSliderFullSize)/2}},{key:"mainSliderContainerStyles",get:function(){var e=this.isFullScreen?this.consts.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW:0;return this.isSliderVertical?{float:"left",marginRight:this.consts.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW,marginLeft:e,width:this.thumbnailWidth,height:"100%"}:{width:"100%",height:this.thumbnailHeight,marginTop:this.consts.SLIDER_THUMBNAILS_MARGIN_FROM_VIEW,marginBottom:e}}},{key:"thumbnailContainerStyle",get:function(){return this.isSliderVertical?{width:this.thumbnailWidth,height:this.sliderContainerSize}:{height:this.thumbnailHeight,width:"auto"}}},{key:"nextPrevButtonStyle",get:function(){return this.isSliderVertical?{width:this.thumbnailWidth,height:this.consts.SLIDER_CONTROLS_SIZE}:{height:this.thumbnailHeight,width:this.consts.SLIDER_CONTROLS_SIZE}}},{key:"ulContainerStyle",get:function(){var e=h.a.normalizeMinusZero(this.isMobile&&this.doThumbnailsGoOutsideTheScreen?this.sliderPositionMobile:this.calculateSliderPosition);return this.isSliderVertical?{height:this.calculateSliderFullSize,top:e}:{width:this.calculateSliderFullSize,left:e}}},{key:"isFirstThumbnailNotInViewMobile",get:function(){return this.isMobile&&this.isThumbnailNotInView(0)}},{key:"isLastThumbnailINotInViewMobile",get:function(){return this.isMobile&&this.isThumbnailNotInView(this.thumbnails.length-1)}}]),e}(),l=o(a.prototype,"sliderStep",[c.observable],{enumerable:!0,initializer:function(){return 0}}),s=o(a.prototype,"sliderPositionMobile",[c.observable],{enumerable:!0,initializer:function(){return 0}}),o(a.prototype,"thumbnailHeight",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"thumbnailHeight"),a.prototype),o(a.prototype,"thumbnailWidth",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"thumbnailWidth"),a.prototype),o(a.prototype,"galleryIndex",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryIndex"),a.prototype),o(a.prototype,"isSliderVertical",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"isSliderVertical"),a.prototype),o(a.prototype,"galleryHeight",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryHeight"),a.prototype),o(a.prototype,"galleryWidth",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryWidth"),a.prototype),o(a.prototype,"isFullScreen",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"isFullScreen"),a.prototype),o(a.prototype,"sliderContainerSize",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"sliderContainerSize"),a.prototype),o(a.prototype,"thumbnailSize",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"thumbnailSize"),a.prototype),o(a.prototype,"calculateSliderFullSize",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"calculateSliderFullSize"),a.prototype),o(a.prototype,"doThumbnailsGoOutsideTheScreen",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"doThumbnailsGoOutsideTheScreen"),a.prototype),o(a.prototype,"shouldShowNavigation",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"shouldShowNavigation"),a.prototype),o(a.prototype,"calculateAnimationSteps",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"calculateAnimationSteps"),a.prototype),o(a.prototype,"numOfAvailableSpots",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"numOfAvailableSpots"),a.prototype),o(a.prototype,"calculateSliderPosition",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"calculateSliderPosition"),a.prototype),o(a.prototype,"mainSliderContainerStyles",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"mainSliderContainerStyles"),a.prototype),o(a.prototype,"thumbnailContainerStyle",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"thumbnailContainerStyle"),a.prototype),o(a.prototype,"nextPrevButtonStyle",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"nextPrevButtonStyle"),a.prototype),o(a.prototype,"ulContainerStyle",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"ulContainerStyle"),a.prototype),o(a.prototype,"isFirstThumbnailNotInViewMobile",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"isFirstThumbnailNotInViewMobile"),a.prototype),o(a.prototype,"isLastThumbnailINotInViewMobile",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"isLastThumbnailINotInViewMobile"),a.prototype),o(a.prototype,"setSliderStep",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"setSliderStep"),a.prototype),o(a.prototype,"slideMenuLeft",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"slideMenuLeft"),a.prototype),o(a.prototype,"slideMenuRight",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"slideMenuRight"),a.prototype),o(a.prototype,"mobileSlide",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"mobileSlide"),a.prototype),a);t.a=p},14:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(t,i){r(this,e),this.relative=0,this.min=0,this.max=0,this.offset=0,this.reference=0,this.pressed=0,this.velocity=0,this.frame=0,this.timestamp=0,this.ticker=0,this.amplitude=0,this.target=0,this.timeConstant=0,this.direction="x",this.funcs=t,this.max=i,this.offset=this.min=0,this.pressed=!1,this.timeConstant=325,this.dragFanc=this.drag.bind(this),this.releaseFanc=this.release.bind(this)}return n(e,[{key:"tap",value:function(e,t,i,r){this.max=r,this.relative=i/this.max,document.addEventListener("touchmove",this.dragFanc,{passive:!1}),document.addEventListener("touchend",this.releaseFanc),this.direction=t?"y":"x",this.pressed=!0,this.reference=this.ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this.track.bind(this),100)}},{key:"drag",value:function(e){var t=void 0,i=void 0;this.pressed&&(t=this.ypos(e),((i=this.reference-t)>2||i<-2)&&(this.reference=t,this.scroll(this.offset+i))),e.preventDefault()}},{key:"release",value:function(){this.pressed=!1,document.removeEventListener("touchmove",this.dragFanc,{passive:!1}),document.removeEventListener("touchend",this.releaseFanc),clearInterval(this.ticker),(this.velocity>10||this.velocity<-10)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.timestamp=Date.now(),window.requestAnimationFrame(this.autoScroll.bind(this)))}},{key:"ypos",value:function(e){return"x"===this.direction?e.targetTouches[0].clientX:e.targetTouches[0].clientY}},{key:"scroll",value:function(e){var t=e<this.min?this.min:e;this.offset=e>this.max?this.max:t,this.funcs(-this.offset)}},{key:"customScroll",value:function(e){this.offset=e,this.funcs(-this.offset)}},{key:"track",value:function(){var e=void 0,t=void 0,i=void 0,r=void 0;e=Date.now(),t=e-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,r=1e3*i/(1+t),this.velocity=.8*r+.2*this.velocity}},{key:"autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,t=-this.amplitude*Math.exp(-e/this.timeConstant),t>.5||t<-.5?(this.scroll(this.target+t),window.requestAnimationFrame(this.autoScroll.bind(this))):this.scroll(this.target))}}]),e}();t.a=o},17:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o=i(2),a=i(3),l=i.n(a),s=function(e){var t=e.image,i=e.index,r=e.currIndex,o=e.thumbnailsLength,a=e.isSliderVertical,s=e.consts,c=e.buttonHeight,u=e.buttonWidth,h=e.onClickHandler,d=e.onFocusHandler,p=e.ariaLabelThumbnailTemplate,y=p.replace("%0",t.caption).replace("%1",i+1).replace("%2",o),m=r===i,f=0===i?0:s.SLIDER_THUMBNAILS_MARGIN,b=a?{marginTop:f}:{marginLeft:f},g={width:u-2,height:"auto"},v={width:"auto",height:c-2},S=t.width/t.height,w=u/c;return n.a.createElement("li",{className:l()({"wc-thumb":!0,selected:m}),style:Object.assign({width:u,height:c},b)},n.a.createElement("button",{className:"wc-thumb-button-"+i,type:"button","aria-live":"polite","aria-label":y,onFocus:d(i),onClick:h(i),style:{width:u,height:c}},n.a.createElement("img",{src:t.src,alt:"",style:S<w?v:g}),t.duration&&n.a.createElement("span",{className:"wc-video-duration"},t.duration),n.a.createElement("div",{className:"shadow"}),t.isPanoramic&&n.a.createElement("div",{className:"wc-icon-panoramic-holder"},n.a.createElement("i",{className:"icon-panoramic-image"})),t.isThreeSixty&&n.a.createElement("div",{className:"wc-icon-three-sixty-holder"},n.a.createElement("i",{className:"icon-360"}))))},c=function(e){var t=e.isSliderOnTheLeft,i=e.currSpot,r=e.numOfAvailableSpots,o=e.buttonStyle,a=e.slideMenuRight,s=e.slideMenuLeft,c=e.ariaLabelSlidePrev,u=e.ariaLabelSlideNext,h=0===i,d=i+1===r;return n.a.createElement("div",{className:"controls"},!h&&n.a.createElement("div",{className:"slideLeft",style:o},n.a.createElement("button",{className:"slideLeftButton",title:"",type:"button","aria-live":"polite",disabled:h,"aria-label":c,style:o,onClick:s},n.a.createElement("i",{className:l()({"icon-angle-left":!t,"icon-angle-up":t})}))),!d&&n.a.createElement("div",{className:"slideRight",style:o},n.a.createElement("button",{className:"slideRightButton",title:"",type:"button","aria-live":"polite",disabled:d,"aria-label":u,style:o,onClick:a},n.a.createElement("i",{className:l()({"icon-angle-right":!t,"icon-angle-down":t})}))))},u=function(e){var t=e.stores,i=e.ariaLabelThumbnailTemplate,r=e.ariaLabelSlidePrev,o=e.ariaLabelSlideNext,a=t.sliderStore;if(!a.shouldShowSlider)return null;var u=a.calculateSliderFullSize-a.sliderContainerSize,h=function(e){return function(){a.updateMainGalleryIndex(e)}},d=function(e){return function(){a.updateSliderAccessibility(e)}};return n.a.createElement("div",{className:l()({"wc-slider":!0,"wc-mobile":a.isMobile,"wc-thumbnails-go-out-screen":a.doThumbnailsGoOutsideTheScreen,"wc-slider-hide-navigation":!a.shouldShowNavigation,"wc-horizontal":!a.isSliderVertical,"wc-vertical":a.isSliderVertical}),style:a.mainSliderContainerStyles},n.a.createElement("div",{className:"wc-thumbnails",style:a.thumbnailContainerStyle},n.a.createElement("ul",{className:l()({"wc-show-more-prev":a.isFirstThumbnailNotInViewMobile,"wc-show-more-next":a.isLastThumbnailINotInViewMobile}),style:a.ulContainerStyle,onTouchStart:function(e){a.isMobile&&a.doThumbnailsGoOutsideTheScreen&&a.kineticScroll.tap(e,a.isSliderVertical,a.sliderContainerSize,u)}},a.thumbnails.map(function(e,t){return n.a.createElement(s,{key:"thumb-"+t,image:e,index:t,currIndex:a.galleryIndex,isSliderVertical:a.isSliderVertical,thumbnailsLength:a.thumbnails.length,consts:a.consts,ariaLabelThumbnailTemplate:i,onFocusHandler:d,onClickHandler:h,buttonHeight:a.thumbnailHeight,buttonWidth:a.thumbnailWidth})}))),a.shouldShowNavigation&&n.a.createElement(c,{isSliderOnTheLeft:a.isSliderVertical,currSpot:a.sliderStep,numOfAvailableSpots:a.numOfAvailableSpots,buttonStyle:a.nextPrevButtonStyle,slideMenuRight:function(){a.slideMenuRight()},slideMenuLeft:function(){a.slideMenuLeft()},ariaLabelSlidePrev:r,ariaLabelSlideNext:o}))};t.a=Object(o.b)("stores")(Object(o.c)(u))},18:function(e,t,i){"use strict";function r(e,t){var i={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}var n=i(0),o=i.n(n),a=i(2),l=i(3),s=i.n(l),c=i(24),u=(i.n(c),function(e){var t=e.stores,i=e.caption,n=e.description,a=e.ariaLabelShow,l=e.ariaLabelHide;if(!i&&!n)return null;var u=t.captionDescriptionStore,h=function(){u.toggleDrawer()};return o.a.createElement("div",{className:s()({"wc-md-viewer-moreInfo":!0,"wc-md-viewer-moreInfo-closed":!u.isDrawerOpen})},o.a.createElement("div",{className:"descHolder",style:{maxHeight:u.drawerMaxHeight,maxWidth:u.drawerMaxWidth}},o.a.createElement(c.Scrollbars,{autoHeight:!0,autoHeightMax:u.drawerMaxHeight,renderThumbVertical:function(e){var t=r(e,[]);return o.a.createElement("div",Object.assign({},t,{className:"wc-scrollbar"}))}},i&&o.a.createElement("div",{className:s()({"wc-md-viewer-moreInfo-caption":!0,"wc-no-description":!n}),dangerouslySetInnerHTML:function(){return{__html:i}}()}),n&&o.a.createElement("div",{className:s()({"wc-md-viewer-moreInfo-description":!0,"wc-no-caption":!i}),dangerouslySetInnerHTML:function(){return{__html:n}}()}))),o.a.createElement("button",{className:"wc-md-viewer-moreInfo-label","aria-label":u.isDrawerOpen?l:a,"aria-live":"polite",onClick:h},o.a.createElement("i",{className:s()({"icon-angle-down-flat":!u.isDrawerOpen,"icon-angle-up-flat":u.isDrawerOpen})})))});t.a=Object(a.b)("stores")(Object(a.c)(u))},19:function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var a,l,s=i(1),c=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),u=(a=function(){function e(t,i){n(this,e),r(this,"isDrawerOpen",l,this),this.rootStore=t,this.isLifestyle=this.rootStore.isLifestyle,this.isMobile=this.rootStore.isMobile,this.reportEventFunc=this.rootStore.reportEventFunc,this.captionHeightDivider=this.rootStore.captionHeightDivider,(this.isLifestyle||i)&&(this.isDrawerOpen=!0)}return c(e,[{key:"toggleDrawer",value:function(){this.reportEventFunc(this.isDrawerOpen?"hide-description":"show-description"),this.isDrawerOpen=!this.isDrawerOpen}},{key:"galleryIndex",get:function(){return this.rootStore.galleryIndex}},{key:"drawerMaxHeight",get:function(){return this.rootStore.containerHeight/this.captionHeightDivider}},{key:"drawerMaxWidth",get:function(){var e=this.isMobile?50:85;return this.rootStore.containerWidth>900?800:this.rootStore.containerWidth-e}}]),e}(),l=o(a.prototype,"isDrawerOpen",[s.observable],{enumerable:!0,initializer:function(){return!1}}),o(a.prototype,"galleryIndex",[s.computed],Object.getOwnPropertyDescriptor(a.prototype,"galleryIndex"),a.prototype),o(a.prototype,"toggleDrawer",[s.action],Object.getOwnPropertyDescriptor(a.prototype,"toggleDrawer"),a.prototype),o(a.prototype,"drawerMaxHeight",[s.computed],Object.getOwnPropertyDescriptor(a.prototype,"drawerMaxHeight"),a.prototype),o(a.prototype,"drawerMaxWidth",[s.computed],Object.getOwnPropertyDescriptor(a.prototype,"drawerMaxWidth"),a.prototype),a);t.a=u},33:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=i(0),l=i.n(a),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),c=function(e){function t(){var e,i,o,a;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return i=o=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.wasVideoElemCreated=!1,o.video=null,o.videoIndex=0,o.lastVideoIndex=0,o.indexChangeHandler=null,o.createVideo=function(){var e=o.props,t=e.videoReportingFunc,i=e.json,r=e.index,n=e.videoSettings;if(!o.wasVideoElemCreated){var a={json:{medias:i.length?i:[i]},reportEvent:function(e,i){t(e,i,r)}};o.props.isVisible&&(o.video=window.wcVideoPlayer(document.getElementById("wc-video-"+r),Object.assign(a,n)),o.wasVideoElemCreated=!0)}},a=i,n(o,a)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.createVideo(),window.addEventListener("video-changed",function(t){t.detail&&"undefined"!==typeof t.detail.index&&e.indexChangeHandler(t.detail.index)})}},{key:"componentDidUpdate",value:function(){this.wasVideoElemCreated?this.props.isVisible||!this.wasVideoElemCreated||this.props.json.isVideoLoop?this.props.isVisible&&this.wasVideoElemCreated&&this.props.json.isVideoLoop&&this.video.isPlaying()?this.video.play():this.lastVideoIndex!==this.videoIndex&&(this.video.play(this.videoIndex),this.lastVideoIndex=this.videoIndex):this.video.pause():this.createVideo()}},{key:"render",value:function(){var e=this.props,t=e.index,i=e.videoIndex,r=e.indexChangeHandler,n=e.width,o=e.height;return this.indexChangeHandler=r,this.videoIndex=i,l.a.createElement("div",{id:"wc-video-"+t,style:{margin:"0 auto",position:"relative",width:n,height:o}})}}]),t}(a.Component);t.a=c},4:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return n}),i.d(t,"d",function(){return o}),i.d(t,"c",function(){return a});var r={MIN_CONTENT_WIDTH:320,MAX_CONTENT_WIDTH:1440,MIN_TEXT_WIDTH:360,MAX_TEXT_WIDTH:800,CONTAINER_BORDER:1},n={MIN_VIEW_HEIGHT:320,MAX_VIEW_HEIGHT_BY_DEVICE:window.screen.availHeight>1080?900:600,SLIDER_THUMBNAILS_WIDTH:90,SLIDER_THUMBNAILS_HEIGHT:90,SLIDER_THUMBNAILS_WIDTH_MOBILE:90,SLIDER_THUMBNAILS_HEIGHT_MOBILE:90,SLIDER_THUMBNAILS_MARGIN:10,SLIDER_CONTROLS_SIZE:40,SLIDER_THUMBNAILS_MARGIN_FROM_VIEW:16,MARGIN_FROM_BOTTOM_OF_SCRREN:5,MAX_DOTS_TO_VIEW:10,DOT_WIDTH:8,DOT_MARGIN:14,MOBILE_CAPTION_HEIGHT_DIVIDER:2.5,DESKTOP_CAPTION_HEIGHT_DIVIDER:2.5},o={MIN_VIEW_HEIGHT:320,MAX_VIEW_HEIGHT_BY_DEVICE:window.screen.availHeight>1080?900:600,SLIDER_THUMBNAILS_WIDTH:176,SLIDER_THUMBNAILS_HEIGHT:100,SLIDER_THUMBNAILS_WIDTH_MOBILE:128,SLIDER_THUMBNAILS_HEIGHT_MOBILE:72,SLIDER_THUMBNAILS_MARGIN:10,SLIDER_CONTROLS_SIZE:40,SLIDER_THUMBNAILS_MARGIN_FROM_VIEW:15,MARGIN_FROM_BOTTOM_OF_SCRREN:5,MAX_DOTS_TO_VIEW:10,DOT_WIDTH:8,DOT_MARGIN:14,MOBILE_CAPTION_HEIGHT_DIVIDER:3.2,DESKTOP_CAPTION_HEIGHT_DIVIDER:2.8},a={MAX_TEXT_CONTAINER_WIDTH:800,MIN_SIDE_BAR_WIDTH:200,MAX_SIDE_BAR_WIDTH:400,NARROW_VIEW_BREAKPOINT:360,MEDIUM_VIEW_BREAKPOINT:640,MIN_TEXT_CONTAINER_WIDTH:360,TOP_MENU_HEIGHT:40,DOT_SIZE:20,DOT_MARGIN_TOP_MENU:16,DOT_MARGIN_TOP_MENU_BETWEEN_PAGES:10,LEFT_ITEM_SIZE:65,DOT_MARGIN_LEFT_MENU_BETWEEN_PAGES:30,PADDING_BOTTOM_TEXT_FOR_NARROW:20,STORYTELLER_SLIDER_MARGIN:20,STORYTELLER_CONTROLS_MARGIN_TOP:32,STORYTELLER_CONTROLS_MARGIN_FROM_TEXT:10}},5:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return n(e,[{key:"findProfileImage",value:function(e,t){for(var i=e.sources[0],r=1;r<e.sources.length;r++){i=t>parseInt(e.sources[r].width,10)?i:e.sources[r]}return i}},{key:"findTallestImage",value:function(e){var t={};return e.forEach(function(e){(!t.height||e.height>t.height)&&(t=e)}),t}},{key:"calcImgDimensions",value:function(e,t,i,r,n,o){var a=e/t,l=i/r,s={};return s=a>=l?e>i?{width:i,height:i/a}:{width:e,height:e/a}:t>r?{width:r*a,height:r}:{width:e,height:e/a},s.width=Math.ceil(s.width)-2*n,s.height=Math.ceil(s.height)-2*n,o&&(s.height=Math.min(r,Math.max(t,s.height))),s}}]),e}();t.a=new o},6:function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return n(e,[{key:"normalizeMinusZero",value:function(e){return 0===e||-0===e?0:e}},{key:"calcResizedMediaSizeByContainer",value:function(e,t,i,r){var n=t/e,o=Math.min(e,i),a=Math.min(o*n,r);return o=a/n,a=o*n,{width:Math.ceil(o),height:Math.ceil(a)}}},{key:"hexToRgbA",value:function(e,t){var i=void 0;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(i=e.substring(1).split(""),3===i.length&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),i="0x"+i.join(""),"rgba("+[i>>16&255,i>>8&255,255&i].join(",")+","+t+")"):"rgba(0, 0, 0, 1)"}}]),e}();t.a=new o},9:function(e,t,i){"use strict";function r(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var a,l,s,c,u,h,d,p=i(1),y=i(4),m=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),f=(a=function(){function e(t,i){var o=this;n(this,e),r(this,"isFullScreen",l,this),r(this,"currMediaIndex",s,this),r(this,"windowWidth",c,this),r(this,"windowHeight",u,this),r(this,"isAccessibilityMode",h,this),r(this,"extraDataForReporting",d,this),this.sessionId=(new Date).getTime()+(""+Math.random()).substr(2),this.disableFullscreenButton=t.disableFullscreenButton,this.toggleFullScreenFunc=t.toggleFullScreenFunc,this.toggleControlsInMobile=t.toggleControlsInMobile,this.reportEventFunc=function(e){i(e,o.currMediaIndex,o.extraDataForReporting)},this.itemsList=t.itemsList,this.isMobile=t.isMobile,this.isTouchDevice=t.isTouchDevice,this.isIOS=t.isIOS,this.layout=t.layout,this.isRTL=t.common.isRtl,this.limitedHeightBySite=t.maxTemplateHeight,this.isFullScreen=t.startInFullScreenMod||!1,this.contentPackage=t.contentPackage||"ppp",this.windowHeight=t.getWindowHeight?t.getWindowHeight():this.windowHeight,window.addEventListener("resize",function(){o.windowWidth=window.innerWidth,o.windowHeight=t.getWindowHeight()}),window.addEventListener("keydown",function(){o.isAccessibilityMode=!0}),window.addEventListener("mousedown",function(){o.isAccessibilityMode=!1}),window.addEventListener("fullscreen",function(){o.toggleFullScreen()}),Object(p.autorun)(function(){o.reportEventFunc("view")})}return m(e,[{key:"setMediaIndex",value:function(e){this.currMediaIndex=e,this.reportEventFunc("selection")}},{key:"toggleFullScreen",value:function(){this.isFullScreen=!this.isFullScreen,this.toggleFullScreenFunc&&(this.reportEventFunc(this.isFullScreen?"full-screen":"exit-full-screen"),this.toggleFullScreenFunc(this.isFullScreen))}},{key:"incrementMediaIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reportEventFunc("next"),this.currMediaIndex+1<this.itemsList.length?this.currMediaIndex++:e&&this.setMediaIndex(0)}},{key:"decrementMediaIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.reportEventFunc("previous"),this.currMediaIndex>0?this.currMediaIndex--:e&&this.setMediaIndex(this.itemsList.length-1)}},{key:"updateExtraDataForReporting",value:function(e,t){this.extraDataForReporting[e]=t}},{key:"currGalleryMaxWidth",get:function(){return this.isFullScreen?this.windowWidth:Math.max(Math.min(y.b.MAX_CONTENT_WIDTH,this.windowWidth),y.b.MIN_CONTENT_WIDTH)}},{key:"isScreenHorizontal",get:function(){return this.windowHeight<this.windowWidth}}]),e}(),l=o(a.prototype,"isFullScreen",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=o(a.prototype,"currMediaIndex",[p.observable],{enumerable:!0,initializer:function(){return 0}}),c=o(a.prototype,"windowWidth",[p.observable],{enumerable:!0,initializer:function(){return window.innerWidth}}),u=o(a.prototype,"windowHeight",[p.observable],{enumerable:!0,initializer:function(){return window.innerHeight}}),h=o(a.prototype,"isAccessibilityMode",[p.observable],{enumerable:!0,initializer:function(){return!1}}),d=o(a.prototype,"extraDataForReporting",[p.observable],{enumerable:!0,initializer:function(){return{}}}),o(a.prototype,"currGalleryMaxWidth",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"currGalleryMaxWidth"),a.prototype),o(a.prototype,"isScreenHorizontal",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"isScreenHorizontal"),a.prototype),o(a.prototype,"setMediaIndex",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"setMediaIndex"),a.prototype),o(a.prototype,"toggleFullScreen",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"toggleFullScreen"),a.prototype),o(a.prototype,"incrementMediaIndex",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"incrementMediaIndex"),a.prototype),o(a.prototype,"decrementMediaIndex",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"decrementMediaIndex"),a.prototype),o(a.prototype,"updateExtraDataForReporting",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"updateExtraDataForReporting"),a.prototype),a);t.a=f}},[101]);