(function(){var e=!1;$("body").addClass("wc-no-focus");$("body").attr("tabindex","-1");$(document).bind("disableEscButton",function(){e=!0});$(document).bind("enableEscButton",function(){e=!1});$("body").on("keydown",function(a){"27"!=(a.keyCode||a.which)||e||(a=document.createEvent("Event"),a.initEvent("wc-close-overlay-ce",!0,!0),parent.window.document.body.dispatchEvent(a));$("body").removeClass("wc-no-focus")}).on("mousedown",function(a){0!=a.buttons&&$("body").addClass("wc-no-focus")}).on("tap",
function(a){0!=a.buttons&&$("body").addClass("wc-no-focus")});window.MSInputMethodContext&&document.documentMode?$("body").addClass("wc-mb-browser-ie-fix"):-1<navigator.userAgent.toLowerCase().indexOf("firefox")?$("body").addClass("wc-mb-browser-firefox-fix"):/iPad|iPhone|iPod/i.test(navigator.userAgent)?$("body").addClass("wc-mb-browser-ios"):null!=navigator.userAgent.toLowerCase().match(/edge/)&&$("body").addClass("wc-mb-edge-fix");$(window).bind("remove-no-focus-class-ce",function(){$("body").removeClass("wc-no-focus")});
$(window).bind("add-no-focus-class-ce",function(){$("body").addClass("wc-no-focus")});$("body").bind("desktop-fullscreen-disabled",function(){$("body").removeClass("wc-fullscreen")});$("body").bind("desktop-fullscreen-enabled",function(){$("body").addClass("wc-fullscreen")});$(window).bind("wc-call-fullscreen",function(){var a=document.createEvent("Event");a.initEvent("wc-call-fullscreen",!0,!0);parent.window.document.body.dispatchEvent(a)});$.fn.initAgeGate=function(a){var b=$.extend(!0,{},$.fn.initAgeGate.defaults,
a||{}),e=['<div class="wc-ageGate-mask"><form class="wc-ageGate"><div class="wc-ageGate-wrap"><p class="wc-ageGate-message">',b.localization.agegatemessage,'</p><p class="wc-ageGate-subMessage">',b.localization.agegatesubmessage,'</p><p class="wc-ageGate-underAge-message"><span>',"AO"===a.esrbrating||"PEGI18"===a.pegirating?b.localization.agegateunderage.replace("17","18"):b.localization.agegateunderage,'</span></p><p class="wc-ageGate-invalidDate-message"><span>',b.localization.agegateinvaliddate,
'</span></p><fieldset><select class="wc-ageGate-month" name="month"><option class="template" default="true" value="-1">',b.localization.agegatemonthname,"</option>",function(){for(var a="",c=1;12>=c;++c)a+='<option value="'+(c-1)+'">'+c+"</option>";return a}(),'</select><select class="wc-ageGate-day" name="day"><option class="template" default="true" value="-1">',b.localization.agegatedayname,"</option>",function(){for(var a="",c=1;31>=c;++c)a+='<option value="'+c+'">'+c+"</option>";return a}(),'</select><select class="wc-ageGate-year" name="year"><option class="template" default="true" value="-1">',
b.localization.agegateyearname,"</option>",function(){for(var a=(new Date).getFullYear(),c="",d=0;120>=d;++d)c+='<option value="'+(a-d)+'">'+(a-d)+"</option>";return c}(),'</select><input class="wc-ageGate-submit" type="submit" value=" ',b.localization.agegatesubmit,' "></input></fieldset></div></form></div>'].join("");0===$(".wc-iframe-content.active .wc-ageGate-mask").length&&"passed"!==b.cookie&&$(".wc-iframe-content.active").append(e);$("body").on("activateAgeGate",function(b,c){$(".wc-iframe-content.active .wc-ageGate-mask").addClass("wc-ageGate-mask-active");
$(".wc-iframe-content.active").children().filter(function(){return!$(this).hasClass("wc-ageGate-mask")}).attr("aria-hdden",!0);b=$(".wc-iframe-content.active").attr("id");$("#"+b+" .wc-ageGate-submit").on("click",function(d){d.preventDefault();d.stopPropagation();d=$(this).closest("form");d=$(d);a:{var b=$("select.wc-ageGate-month",d).val(),e=$("select.wc-ageGate-day",d).val(),m=$("select.wc-ageGate-year",d).val();try{var f=new Number(b),k=new Number(e),l=new Number(m),h=new Date(l,f,k);if(0<l&&0<=
f&&0<k&&l==h.getFullYear()&&f==h.getMonth()&&k==h.getDate()){var g=h;break a}}catch(n){}g=-1}-1==g?d.addClass("wc-ageGate-invalidDate").removeClass("wc-ageGate-underAge"):(f="AO"===a.esrbrating||"PEGI18"===a.pegirating?18:17,new Date(g.getFullYear()+f,g.getMonth(),g.getDate())<new Date?(document.cookie="wc-ageGate=passed;path=/",$(".wc-ageGate-mask").remove(),$(".wc-iframe-content.active").children().removeAttr("aria-hidden"),""!=c&&$("body").trigger(c)):d.addClass("wc-ageGate-underAge").removeClass("wc-ageGate-invalidDate"))})})}})();