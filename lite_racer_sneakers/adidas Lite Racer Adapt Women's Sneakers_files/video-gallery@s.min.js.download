/*
 2016 Derk-Jan Hartman
 @license (MIT OR Apache-2.0)
*/
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsReplay=e()}(function(){return function d(a,b,c){function f(h,k){if(!b[h]){if(!a[h]){var m="function"==typeof require&&require;if(!k&&m)return m(h,!0);if(g)return g(h,!0);k=Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k;}k=b[h]={exports:{}};
a[h][0].call(k.exports,function(b){var c=a[h][1][b];return f(c?c:b)},k,k.exports,d,a,b,c)}return b[h].exports}for(var g="function"==typeof require&&require,l=0;l<c.length;l++)f(c[l]);return f}({1:[function(a,b,c){(function(a){Object.defineProperty(c,"__esModule",{value:!0});var d=(a="undefined"!=typeof window?window.videojs:"undefined"!=typeof a?a.videojs:null)&&a.__esModule?a:{"default":a},g={},l=function(a){var b=void 0;a.hasClass("vjs-replay")&&(b=a.paused()?a.localize("Play"):a.localize("Pause"),
a.removeClass("vjs-replay").getChild("controlBar").getChild("playToggle").controlText(b))},h=function(a,b){a.on("ended",function(){a.duration()!==1/0&&a.addClass("vjs-replay").getChild("controlBar").getChild("playToggle").controlText(a.localize("Replay"))});a.on("play",function(){l(a)});a.on("seeking",function(){l(a)})};a=function(a){var b=this;this.ready(function(){h(b,d["default"].mergeOptions(g,a))})};d["default"].plugin("replayButton",a);a.VERSION="1.1.0";c["default"]=a;b.exports=c["default"]}).call(this,
"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,b,c,d){return jQuery.easing[jQuery.easing.def](e,a,b,c,d)},easeInQuad:function(e,a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(e,a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(e,a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(e,a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(e,a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:
c/2*((a-=2)*a*a+2)+b},easeInQuart:function(e,a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(e,a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(e,a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(e,a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(e,a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(e,a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(e,a,b,c,d){return-c*Math.cos(a/
d*(Math.PI/2))+c+b},easeOutSine:function(e,a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(e,a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(e,a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(e,a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(e,a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(e,a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*
a)-1)+b},easeOutCirc:function(e,a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(e,a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(e,a,b,c,d){e=0;var f=c;if(0==a)return b;if(1==(a/=d))return b+c;e||(e=.3*d);f<Math.abs(c)?(f=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/f);return-(f*Math.pow(2,10*--a)*Math.sin(2*(a*d-c)*Math.PI/e))+b},easeOutElastic:function(e,a,b,c,d){var f=0,g=c;if(0==a)return b;if(1==(a/=d))return b+c;f||
(f=.3*d);g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g);return g*Math.pow(2,-10*a)*Math.sin(2*(a*d-e)*Math.PI/f)+c+b},easeInOutElastic:function(e,a,b,c,d){var f=0,g=c;if(0==a)return b;if(2==(a/=d/2))return b+c;f||(f=.3*d*1.5);g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g);return 1>a?-.5*g*Math.pow(2,10*--a)*Math.sin(2*(a*d-e)*Math.PI/f)+b:g*Math.pow(2,-10*--a)*Math.sin(2*(a*d-e)*Math.PI/f)*.5+c+b},easeInBack:function(e,a,b,c,d,f){void 0==f&&(f=1.70158);return c*(a/=d)*a*((f+1)*
a-f)+b},easeOutBack:function(e,a,b,c,d,f){void 0==f&&(f=1.70158);return c*((a=a/d-1)*a*((f+1)*a+f)+1)+b},easeInOutBack:function(e,a,b,c,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?c/2*a*a*(((f*=1.525)+1)*a-f)+b:c/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+b},easeInBounce:function(e,a,b,c,d){return c-jQuery.easing.easeOutBounce(e,d-a,0,c,d)+b},easeOutBounce:function(e,a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*
(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(e,a,b,c,d){return a<d/2?.5*jQuery.easing.easeInBounce(e,2*a,0,c,d)+b:.5*jQuery.easing.easeOutBounce(e,2*a-d,0,c,d)+.5*c+b}});
(function(e){e.fn.initVideoGallery=function(a){var b=e(this);a.isMobileFullScreen=0;a.isMobileFullScreenLastTime=0;var c=e('<div class="wc-mb-video" />').attr({class:"wc-mb-video"}).css({display:"block"});b.append(c);c.gallery({json:a.jsonData,isMobile:a.isMobile,videoTexts:a.videoTexts,commonTexts:a.commonTexts,shouldAutoResizeHeight:a.shouldAutoResizeHeight,resizeHeight:a.resizeHeight,isAgeGate:a.isAgeGate,shouldAutoPlay:a.shouldAutoPlay,reportEvent:a.reportEvent,sectionType:a.sectionType,tabCaption:a.tabCaption,
mobileFullScreenMod:a.mobileFullScreenMod})};e.widget("webcollage.gallery",{options:{isMobile:!1},_create:function(){var a=this,b=e('<div class="playlist-container"><div class="wc-thumbnails"><ul></ul></div><div class="controls"><div class="slideLeft" data-dir="left"><button data-text="slideLeftTooltip" title="" type="button" aria-live="polite" tabindex="0" aria-label="Slide thumbnails left"><i class="icon-angle-left"></i></button></div><div class="slideRight" data-dir="right"><button data-text="slideRightTooltip" title="" type="button" aria-live="polite" tabindex="0" aria-label="Slide thumbnails right"><i class="icon-angle-right"></i></button></div></div></div>');
a.mediaViewer=this.element.mediaViewer({galleryElement:this.element,json:{medias:a.options.json.medias},autoPlay:!1,isMobile:a.options.isMobile,videoTexts:a.options.videoTexts,commonTexts:a.options.commonTexts,shouldAutoResizeHeight:a.options.shouldAutoResizeHeight,resizeHeight:a.options.resizeHeight,isAgeGate:a.options.isAgeGate,shouldAutoPlay:a.options.shouldAutoPlay,reportEvent:a.options.reportEvent,mobileFullScreenMod:a.options.mobileFullScreenMod,sectionType:a.options.sectionType,tabCaption:a.options.tabCaption,
nextPrevVideo:function(b,d){a._stopAll(a,!0);a._play(d)},nextPrevVideoLoad:function(b,d){a._stopAll(a,!1);a._playLoad(d)},playerPlay:function(b,d){a._playerPlay(a,d)}}).data("webcollage-mediaViewer");1<a.options.json.medias.length&&(this.element.find(".video-js").append(b),a.playList=this.element.find(".playlist-container").playList({galleryElement:this.element.find(".video-js"),json:a.options.json,isMobile:a.options.isMobile,videoTexts:a.options.videoTexts,thumbnailClicked:function(b,d){a._stopAll(a,
!0);a._play(d)}}).data("webcollage-playList"))},_stopAll:function(a,b){e.each(a.options.json.medias,function(c,d){d.isPlaying&&a._stop({media:d,index:c,reportStopEvent:b})})},_playerPause:function(a,b){b.media.isPlaying=!0;b.media.isPaused=!0},_playerPlay:function(a,b){b.media.isPlaying=!0;b.media.isPaused=!1},play:function(){this._play({media:this.options.json.medias[0],index:0})},destroyPlayer:function(){this.mediaViewer.destroyPlayer()},_play:function(a){a.media.isPlaying=!0;a.media.isPaused=!1;
this.element.trigger("mediaPlay",a)},_playLoad:function(a){a.media.isPlaying=!1;a.media.isPaused=!1;this.element.trigger("mediaPlayLoad",a)},_stop:function(a){a.media.isPlaying=!1;a.media.isPaused=!1;this.element.trigger("mediaStop",a)},_pause:function(a){a.media.isPaused=!0;this.element.trigger("mediaPause",a)},_resume:function(a){this.element.trigger("mediaResume",a);a.media.isPaused=!1}});e.widget("webcollage.mediaViewer",{options:{isMobile:!1,isDescriptionOpened:!1},destroyPlayer:function(){this._currentMediaData.progressTimer&&
clearInterval(this._currentMediaData.progressTimer);this._player&&this._player.dispose&&this._player.dispose();e("body").unbind("pause-movie")},_create:function(){this.isPostroll=!1;this._render();this._attachEvents()},_player:{},_descriptionsPos:null,_lastClosedCaptionsSelectedBtn:null,_currentMediaData:{},_playList:{},_highestMedia:{},_widestMedia:{},_progressBar:{currentTime:0,lastUpdatedTime:0},_initiated:!1,play:function(){this._player.play()},stop:function(){this._player.stop()},_isiDevice:function(){return/iPad|iPhone|iPod/i.test(navigator.userAgent)},
_reportPlayerEvent:function(a,b,c){var d={"asset-type":"video",interactive:!0};d["section-type"]=this.options.sectionType;var f=c.media;"begin"===a&&!0===this._initiated?d.interactive=!1:"begin"===a&&(this._initiated=!0);"begin"===a&&"undefined"!==typeof c.interactive&&(d.interactive=c.interactive);if(!this.isPostroll){d.videotime=b.currentTime()||0;if(f){var g=f.duration||(this.options.isMobile?b.duration:b.duration())||0;d.asset=f.sources.src;f.reportingCode&&0<e.trim(f.reportingCode).length&&(d["asset-code"]=
f.reportingCode);f.caption&&(d["asset-title"]=f.caption);d["tab-caption"]=this.options.tabCaption;d["asset-wrapper"]="video-gallery";g&&(d.duration=g,parseFloat(d.videotime)>parseFloat(d.duration)&&(d.videotime=g));d["clip-index"]=f.index;d["index-in-collection-absolute"]=c.index;d["playlist-length"]=f.rawSectionMetadata.collectionSize;if("progress"===a||"stop"===a||"finish"===a||"pause"===a&&b.cache_.duration===b.cache_.currentTime||"pause"===a&&b.cache_.duration!==b.cache_.currentTime&&!b.userActivity_)d.interactive=
!1}d["collection-size-absolute"]=this.options.json.medias.length;"function"===typeof this.options.reportEvent&&this.options.reportEvent("video-gallery-"+a,f.rawSectionMetadata,d)}},_play:function(a){var b=this,c=a.media;b.isPostroll=!1;b._selectMedia(a);this._player.poster(c.poster.src);this._player.removeChild(this._player.posterImage);this._player.posterImage=this._player.addChild("posterImage");this._player.src(this._playList[a.index]);b._addTracksElementForAccessibility(c);b._isiDevice()&&b._player.play();
window.setTimeout(function(){b._player.play()},1)},_playLoad:function(a){var b=this,c=a.media;b.isPostroll=!1;b._selectMedia(a);this._player.poster(c.poster.src);this._player.removeChild(this._player.posterImage);this._player.posterImage=this._player.addChild("posterImage");this._player.src(this._playList[a.index]);b._addTracksElementForAccessibility(c);this._player.replayButton();b.element.on("click",".vjs-replay .vjs-play-control",function(){var c=parseInt(a.index,10)-1;b._trigger("nextPrevVideo",
null,{media:b.options.json.medias[c],index:c,reload:!0})});b._mobileHideControls(!1);b.element.find(".video-js").addClass("vjs-autoplaying");b.options.loader.animateFull(1E4,function(){b.element.find(".video-js").removeClass("vjs-autoplaying");e("body").hasClass("wc-no-focus")&&(b._player.play(),b._currentMediaData.interactive=!1,b._trigger("playerPlay",null,b._currentMediaData));try{b.options.loader.destroy(),b._setSVGLoader()}catch(d){b._setSVGLoader()}})},_pause:function(){this._player.pause()},
_resume:function(){this._player.play()},_stop:function(a){a.reportStopEvent&&this._reportPlayerEvent("stop",this._player,a)},_attachEvents:function(){function a(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?e(".player").attr("role","dialog"):e(".player").removeAttr("role")}var b=this;this.options.galleryElement&&(this.options.galleryElement.on("mediaPlay",function(a,d){!0===d.reload&&b._reportPlayerEvent("replay",b._player,d);b.element.removeClass("wc-has-agegate");b._play(d)}),
this.options.galleryElement.on("mediaPlayLoad",function(a,d){b.element.removeClass("wc-has-agegate");b._playLoad(d)}),this.options.galleryElement.on("mediaPause",function(a,d){b._pause(d)}),this.options.galleryElement.on("mediaResume",function(a,d){b._resume(d)}),this.options.galleryElement.on("mediaStop",function(a,d){b._stop(d)}));e("body").on("keydown",".vjs-fullscreen",function(a){var b=a.keyCode||a.which;if(9===b&&!a.shiftKey){var c=document.activeElement;-1!==c.className.indexOf("vjs-fullscreen-control")&&
setTimeout(function(){e(".vjs-play-control")[0].focus()},100)}9===b&&a.shiftKey&&(c=document.activeElement,-1!==c.className.indexOf("vjs-play-control")&&setTimeout(function(){e(".vjs-fullscreen-control")[0].focus()},10))});e("body").on("startAutoPlay",function(){b._autoLoader()});if(null!==navigator.userAgent.toLowerCase().match(/msie 10/))b.element.find(".vjs-volume-menu-button-horizontal").on("mouseover",function(){e(this).addClass("vjs-slider-active-ie")}).on("mouseout",function(){e(this).removeClass("vjs-slider-active-ie")});
document.addEventListener("webkitfullscreenchange",a,!1);document.addEventListener("mozfullscreenchange",a,!1);document.addEventListener("fullscreenchange",a,!1);b.element.on("mousedown",".vjs-paused .sjv-dock-text",function(a){e(a.target).hasClass("sjv-dock-text")&&!b.options.isMobile&&b._player.play()});b.element.on("tap",".vjs-big-play-button",function(){b.options.loader.destroy();b._setSVGLoader()});b.element.on("tap",".vjs-playing .vjs-big-play-button",function(){b._player.pause()});e("body").bind("pause-movie",
function(){b._pause();try{b.options.loader.destroy(),b._setSVGLoader()}catch(c){}})},_handleClosedCaptions:function(a){function b(a){var b=e(a);if(null!==c._lastClosedCaptionsSelectedBtn&&c._lastClosedCaptionsSelectedBtn!==a){if(d&&d.length)for(var f=0;f<d.length;f++)c._player.textTracks()[f].mode="disabled";k.attr({"data-state":"false",title:"enable captions"}).removeClass("wc-vjs-selected");m.attr({"data-state":"false",title:"enable descriptions"}).removeClass("wc-vjs-selected")}f=b.attr("data-type");
var g="captions"===f?0:c._descriptionsPos,h="captions"===f?"closed-captions":"descriptions";"false"===b.attr("data-state")?(c._player.textTracks()[g].mode="showing",c._reportPlayerEvent("show-"+h,c._player,c._currentMediaData),b.attr({"data-state":"true",title:"disable "+f}).addClass("wc-vjs-selected"),b.find(".wc-player-text").remove(),b.attr("aria-label",c.options.videoTexts.disableClosedCaptions),b.attr("aria-live","polite"),c._lastClosedCaptionsSelectedBtn=a):(c._player.textTracks()[g].mode="disabled",
c._reportPlayerEvent("hide-"+h,c._player,c._currentMediaData),b.attr({"data-state":"false",title:"enable "+f}).removeClass("wc-vjs-selected"),b.find(".wc-player-text").remove(),b.attr("aria-label",c.options.videoTexts.enableClosedCaptions),b.attr("aria-live","polite"),c._lastClosedCaptionsSelectedBtn=null)}var c=this;c._descriptionsPos=null;c._lastClosedCaptionsSelectedBtn=null;var d=c._player.textTracks(),f=d.length;if(d&&d.length)for(--f;0<=f;f--)c._player.removeRemoteTextTrack(d[f]);d=c._player.textTracks();
c.element.find("video").html("");c.element.find("#captionsToggleButton").remove();c.element.find("#descriptionsToggleButton").remove();var g=null,l=null;if(a.closedCaptionsList)for(f=0;f<a.closedCaptionsList.length;f++){var h=a.closedCaptionsList[f];"captions"===h.type&&null===g?g=h.runtimeSrc.src:"descriptions"===h.type&&null===l&&(l=h.runtimeSrc.src)}if(g){c._player.addRemoteTextTrack({src:g,kind:"captions",srclang:"en",label:"English"});c._player.textTracks()[0].mode="disabled";e(".vjs-captions-button").remove();
e(".vjs-text-track-display").removeAttr("aria-live");var k=e('<div data-state="false" data-type="captions" id="captionsToggleButton" class="vjs-captions-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button" tabindex="0" title="enable captions" aria-label="'+c.options.videoTexts.toggleClosedCaptions+'" role="button"><span class="wc-player-text"></span></div>');k.on("click",function(){b(this)});e(window).on("resize.captions",function(){"true"===k.attr("data-state")&&(b(k[0]),setTimeout(function(){b(k[0])},
10))});k.on("keydown",function(a){13===(a.keyCode||a.which)&&(a.preventDefault(),b(this))});e(k).insertAfter(".vjs-subtitles-button")}if(l){c._player.addRemoteTextTrack({src:l,kind:"descriptions",srclang:"en",label:"English"});c._descriptionsPos=g?1:0;c._player.textTracks()[c._descriptionsPos].mode="disabled";e(".vjs-descriptions-button").remove();e(".vjs-text-track-display").removeAttr("aria-live");var m=e('<div data-state="false" data-type="descriptions" id="descriptionsToggleButton" class="vjs-descriptions-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button" tabindex="0" title="enable descriptions" aria-label="'+
c.options.videoTexts.toggleClosedCaptions+'" role="button"><span class="wc-player-text"></span></div>');m.on("click",function(){b(this)});e(window).on("resize.captions",function(){"true"===m.attr("data-state")&&(b(m[0]),setTimeout(function(){b(m[0])},10))});m.on("keydown",function(a){13===(a.keyCode||a.which)&&(a.preventDefault(),b(this))});e(m).insertBefore(".vjs-audio-button")}},_addTracksElementForAccessibility:function(a){void 0===a.sources||void 0===a.closedCaptionsList||this._isiDevice()||this.element.find("video").html('<track kind="captions" src="'+
a.closedCaptionsList+'" label="Captions" />')},_selectMedia:function(a){var b=a.media;this._player.currData=a;this.element.data("index",a.index);this.element.find(".playlist-container .selected").removeClass("selected");this.element.find(".playlist-container li:eq("+a.index+")").addClass("selected");this.element.find(".wc-video-prevVideo").attr("data-index",parseInt(a.index)-1);this.element.find(".wc-video-nextVideo").attr("data-index",parseInt(a.index)+1);this._currentMediaData=a;this._setTitleDesc(a.media);
this._handleClosedCaptions(b);this._addTracksElementForAccessibility(b);b=this.options.videoTexts.watchMovie;var c=a.media.caption?a.media.caption:"";this.element.find(".vjs-big-play-button").removeAttr("title").attr("aria-label",b+" "+c).attr("title",b+" "+c);this.options.isMobile||this.element.find(".vjs-big-play-button").removeAttr("aria-live");0===parseInt(a.index)?(this.element.addClass("hide-prev"),this.element.find(".wc-video-prevVideo").prop("disabled",!0).addClass("disabled")):(this.element.removeClass("hide-prev"),
this.element.find(".wc-video-prevVideo").prop("disabled",!1).removeClass("disabled"));parseInt(a.index)+1===this.options.json.medias.length?(this.element.addClass("hide-next"),this.element.find(".wc-video-nextVideo").prop("disabled",!0).addClass("disabled")):(this.element.removeClass("hide-next"),this.element.find(".wc-video-nextVideo").prop("disabled",!1).removeClass("disabled"))},_setPlayer:function(a){var b=this;b.isMobileFullScreenLastTime=0;b._playList=Array(b.options.json.medias.length);e.each(b.options.json.medias,
function(a,c){var d=[];d.push({type:"video/mp4",src:c.sources.src});b._playList[a]=d});var c=b.options.json.medias[0];videojs(b.element.find("video")[0],{html5:{nativeTextTracks:!1}},function(){b._player=this;b._attachPlayerEvents();b._selectMedia({media:c,index:0});b._player.src([{type:"video/mp4",src:c.sources.src}]);b._player.poster(c.poster.src);a&&!b.options.isAgeGate&&b.options.shouldAutoPlay&&setTimeout(function(){b._player.play();try{b.options.loader.destroy(),b._setSVGLoader()}catch(d){b._setSVGLoader()}},
1)}).ready(function(){b.element.find(".vjs-poster").remove();b.element.find(".vjs-play-progress span").html("");b.element.find(".vjs-progress-holder").attr({"aria-label":b.options.videoTexts.timeSlider});b.element.find(".vjs-progress-control").attr({tabindex:"-1",role:"group"});var a=e("<div class='wc-svg-circle-progress wc-svg-circle-progress-"+b.uuid+"'></div>");e(a).appendTo(b.element.find(".vjs-big-play-button"));b._setSVGLoader();b.options.isAgeGate?e("body").trigger("activateAgeGate","startAutoPlay"):
b.options.shouldAutoPlay&&b._autoLoader();b.element.find(".vjs-play-control").attr("aria-label",b.options.videoTexts.play).attr("title",b.options.videoTexts.play);a=b.element.find(".vjs-menu-button-inline");a.wrap("<div class='vjs-menu-button-inline'></div>");a.removeClass("vjs-menu-button-inline");a=a.find(".vjs-menu").detach();b.element.find(".vjs-menu-button-inline").append(a);b.element.find(".vjs-volume-menu-button-horizontal, .vjs-volume-bar").on("focus",function(){e(this).closest(".vjs-menu-button-inline").addClass("on-focus")}).on("focusout",
function(){e(this).closest(".vjs-menu-button-inline").removeClass("on-focus")});b.element.find(".vjs-volume-menu-button-horizontal").attr("aria-label",b.options.videoTexts.mute).attr("title",b.options.videoTexts.mute);b.isMute=!1;b.element.find(".vjs-volume-menu-button-horizontal").on("click",function(){b.isMute?(b.element.find(".vjs-volume-menu-button-horizontal").attr("aria-label",b.options.videoTexts.mute).attr("title",b.options.videoTexts.mute),b.isMute=!1):(b.element.find(".vjs-volume-menu-button-horizontal").attr("aria-label",
"Unmute").attr("title","Unmute"),b.isMute=!0)});1<b.options.json.medias.length&&(a=e('<button type=button" class="wc-video-nextVideo vjs-control" data-index="1" tabindex="0" title="'+b.options.videoTexts.nextVideo+'" aria-label="'+b.options.videoTexts.nextVideo+'" role="button" />'),e(a).insertAfter(b.element.find(".vjs-play-control")),a=e('<button type=button" class="wc-video-prevVideo vjs-control disabled" data-index="0" tabindex="0" aria-label="'+b.options.videoTexts.prevVideo+'" title="'+b.options.videoTexts.prevVideo+
'" role="button" disabled />'),e(a).insertBefore(b.element.find(".vjs-play-control")));a=e('<div class="sjv-dock-text"><div class="sjv-dock-text-container"><div class="vjs-dock-title"><h3></h3></div><div class="vjs-dock-description"><p></p></div></div>'+('<button class="vjs-showDescription" title="" type="button" aria-live="polite" tabindex="0" aria-label="'+b.options.commonTexts.showDescription+'"><i class="icon-angle-down-flat"></i></button><button class="vjs-hideDescription" title="" type="button" aria-live="polite" tabindex="0" aria-label="'+
b.options.commonTexts.hideDescription+'"><i class="icon-angle-up-flat"></i></button>')+"</div>");e(a).insertBefore(b.element.find(".vjs-control-bar"));b._setTitleDesc(c);b.element.find(".vjs-hideDescription").on("click",function(){b.element.find(".mCSB_draggerContainer").css("display","none");b._reportPlayerEvent("hide-description",b._player,b._player.currData);b.element.find(".sjv-dock-text-container").slideUp();b.element.find(".vjs-hideDescription").hide();b.element.find(".vjs-showDescription").css("display",
"block").focus();b.isDescriptionOpened=!1});b.element.find(".vjs-showDescription").on("click",function(){b.element.find(".mCSB_draggerContainer").css("display","none");b._reportPlayerEvent("show-description",b._player,b._player.currData);b.element.find(".sjv-dock-text-container").slideDown(function(){setTimeout(function(){b.element.find(".mCSB_draggerContainer").css("display","block")},100)});b.element.find(".vjs-showDescription").hide();b.element.find(".vjs-hideDescription").css("display","block").focus();
b.isDescriptionOpened=!0});b.element.on("tap",function(a){!b.options.isMobile||"VIDEO"!==a.target.nodeName&&-1===a.target.className.indexOf("sjv-dock-text")||(a=(new Date).getTime(),200<a-b.isMobileFullScreenLastTime&&(0===b.isMobileFullScreen?b._mobileHideControls(!0):b._mobileHideControls(!1),b.isMobileFullScreenLastTime=a))});b.element.find(".vjs-control-bar").removeAttr("role");if(e("body").hasClass("wc-mb-browser-ie-fix"))b.element.find(".vjs-showDescription, .vjs-hideDescription, .vjs-volume-menu-button-horizontal, .slideRight, slideLeft").on("mouseover",
function(){e(this).css("opacity","1")}).on("mouseleave",function(){e(this).css("opacity","0.7")});b.options.isMobile&&(b.element.addClass("vjs-mobile"),e(window).width()>e(window).height()&&b.element.addClass("vjs-horizontal-mode"));b._resizeHeight()}).replayButton();videojs.addLanguage("en",{REPLAY:"Replay"})},_setSVGLoader:function(){if(!(0<e(".wc-svg-circle-progress wc-svg-circle-progress-"+this.uuid).length)){var a="both"===e(".wc-svg-circle-progress:first").css("clear"),b=e(".wc-svg-circle-progress:first").css("border-left-color"),
c=e(".wc-svg-circle-progress:first").css("border-right-color");b=null!==b&&""!==b&&a?b:"#2179d3";a=null!==c&&""!==c&&a?c.replace(")",",0.5)").replace("rgb","rgba"):"rgba(0, 0, 0, 0.5)";this.options.loader=new CircleProgressBar(".wc-svg-circle-progress-"+this.uuid,{strokeWidth:4,strokeColor:b,trailColor:"#fff",trailWidth:2,fill:a});this.element.find("svg").attr("aria-hidden","true")}},_setTitleDesc:function(a){var b=this;a.caption||a.description?(b.element.find(".vjs-dock-description").css("display",
"none"),b.element.find(".vjs-dock-description p").html(a.description||""),b.element.find(".vjs-dock-description").mCustomScrollbar({scrollInertia:700,mouseWheel:{scrollAmount:1E3},callbacks:{onUpdate:function(){b.element.find(".vjs-dock-description .mCustomScrollBox").removeAttr("tabindex")}}}),b.element.find(".vjs-dock-description").removeAttr("style"),b.isDescriptionOpened?(b.element.find(".vjs-dock-description").css("display","block"),b.element.find(".vjs-hideDescription").show()):b.element.find(".vjs-showDescription").css("display",
"block")):(b.element.find(".vjs-dock-description").hide(),b.element.find(".vjs-hideDescription, .vjs-showDescription").hide());a.caption?(b.element.find(".vjs-dock-title h3").html(a.caption),b.element.find(".vjs-dock-title").show()):b.element.find(".vjs-dock-title").hide();a.description||a.caption?b.element.find(".sjv-dock-text").removeClass("no-title-desc"):b.element.find(".sjv-dock-text").addClass("no-title-desc")},_autoLoader:function(){var a=this;a.element.find(".video-js").addClass("vjs-autoplaying");
a.options.loader.animateFull(5E3,function(){a.element.find(".video-js").removeClass("vjs-autoplaying");if(!a._player.hasStarted()&&e("body").hasClass("wc-no-focus")&&!e("body").hasClass("wc-no-autoplay"))try{a._player.play(),a._currentMediaData.interactive=!1,a._trigger("playerPlay",null,a._currentMediaData)}catch(b){a.element.find(".vjs-big-play-button").trigger("click")}try{a.options.loader.destroy(),a._setSVGLoader()}catch(b){a._setSVGLoader()}})},_attachPlayerEvents:function(){var a=this;e(document).on("keydown",
function(b){27===b.keyCode&&a._player.pause()});window.addEventListener("orientationchange",function(){a._setTimeClearControls()},!1);e(window).on("resize",function(){a.element.closest(".wc-iframe-content").hasClass("active")&&(a._resizeHeight(),e(window).width()>e(window).height()?a.element.addClass("vjs-horizontal-mode"):a.element.removeClass("vjs-horizontal-mode"))});a.element.on("click",".wc-video-nextVideo",function(){var b=parseInt(e(this).attr("data-index"));a._reportPlayerEvent("next",a._player,
a._player.currData);a._trigger("nextPrevVideo",null,{media:a.options.json.medias[b],index:b})});a.element.on("keydown",".wc-video-nextVideo",function(b){13===(b.keyCode||b.which)&&(b=parseInt(e(this).attr("data-index")),a._reportPlayerEvent("next",a._player,a._player.currData),a._trigger("nextPrevVideo",null,{media:a.options.json.medias[b],index:b}))});a.element.on("click",".wc-video-prevVideo",function(){var b=parseInt(e(this).attr("data-index"));a._reportPlayerEvent("previous",a._player,a._player.currData);
a._trigger("nextPrevVideo",null,{media:a.options.json.medias[b],index:b})});a.element.on("keydown",".wc-video-prevVideo",function(b){13===(b.keyCode||b.which)&&(b=parseInt(e(this).attr("data-index")),a._reportPlayerEvent("previous",a._player,a._player.currData),a._trigger("nextPrevVideo",null,{media:a.options.json.medias[b],index:b}))});a.element.on("click",".wc-thumb button",function(){a._reportPlayerEvent("video-selection",a._player,a._player.currData)});a._player.on("play",function(){a.element.find(".vjs-play-control").attr("aria-label",
a.options.videoTexts.pause).attr("title",a.options.videoTexts.pause);a.element.find(".video-js").removeClass("vjs-autoplaying");a.element.removeClass("wc-has-agegate");a._reportPlayerEvent(Math.floor(a._player.currentTime())?"resume":"begin",a._player,a._currentMediaData);a._trigger("playerPlay",null,a._currentMediaData);a.options.loader.clearAnimation();a.options.isMobile&&a._setTimeClearControls()});a._player.on("pause",function(){a.element.find(".vjs-play-control").attr("aria-label",a.options.videoTexts.play).attr("title",
a.options.videoTexts.play);a.element.find(".video-js").removeClass("vjs-autoplaying");a._reportPlayerEvent("pause",a._player,a._currentMediaData);a._trigger("playerPause",null,a._currentMediaData);a.options.loader.clearAnimation();clearTimeout(a.clearControls)});a._player.on("timeupdate",function(){a._progressBar.currentTime=Math.floor(a._player.currentTime());a._progressBar.currentTime===a._progressBar.lastUpdatedTime||0!==a._progressBar.currentTime%5||a._player.paused()||0===a._progressBar.currentTime||
a._reportPlayerEvent("progress",a._player,a._currentMediaData);a._progressBar.lastUpdatedTime=a._progressBar.currentTime});a._player.on("progress",function(){var b=100*a._player.bufferedPercent().toFixed(2),c=parseInt(a.element.find(".vjs-load-progress > span").attr("data-progress"));b!==c&&(a.element.find(".vjs-load-progress > span").attr("data-progress",b),a.element.find(".vjs-load-progress > span").contents().filter(function(){return 3===this.nodeType}).first().replaceWith(": "+b+"%"));100===b&&
a._player.off("progress")});a._player.on("ended",function(){a._reportPlayerEvent("finish",a._player,a._currentMediaData);a._trigger("playerStop",null,a._currentMediaData);var b=parseInt(a.element.data("index"));b+1!==a.options.json.medias.length&&a._trigger("nextPrevVideoLoad",null,{media:a.options.json.medias[b+1],index:b+1});clearTimeout(a.clearControls)})},_render:function(){var a=this.options.json.medias[0];this.options.isMobile&&this._isiDevice()&&(this.element.addClass("wc-idevice"),this.options.needAgeGate&&
this.element.addClass("wc-has-agegate"));var b=this.options.isMobile?"metadata":"auto";this.element[0].insertAdjacentHTML("afterbegin",'<div class="wc-player-outer-wrap"><div class="wc-player-wrap"><div class="wc-movie-width-limiter player"><video class="video-js vjs-default-skin vjs-fluid vjs-16-9 vjs-nofull" controls webkit-playsinline="true" playsinline="true" preload="____preload____" crossdomain poster="___postersrc___"></video></div></div></div>'.replace(/___postersrc___/g,a.poster.src).replace("____preload____",
b));this._isiDevice()&&(this.element.addClass("wc-idevice"),this.options.needAgeGate&&this.element.addClass("wc-has-agegate"));this._setPlayer(this.options.autoPlay)},_resizeHeight:function(){if(this.options.shouldAutoResizeHeight&&!this.options.isMobile&&"function"===typeof this.options.resizeHeight){var a=this.options.json.medias.reduce(function(a,b){return a.sources.height>b.sources.height?a:b}),b=a.sources.width/a.sources.height;a=1<b?e(window).width()/b:a.sources.height;this.options.resizeHeight(Math.max(Math.floor(a),
400))}},_mobileHideControls:function(a){this.options.isMobile&&(clearTimeout(this.clearControls),a?(e(".sjv-dock-text-container, .vjs-showDescription, .vjs-hideDescription").stop(!0,!0).animate({"margin-top":"-500px"},500),e(".playlist-container, .vjs-control-bar").stop(!0,!0).animate({"margin-bottom":"-500px"},500),this.options.mobileFullScreenMod(!0),this.element.find("div[class^=vjs], button[class^=vjs], .playlist-container").addClass("hide"),this.isMobileFullScreen=1,e("body").addClass("ui-full-screen")):
(e(".sjv-dock-text-container").stop(!0,!0).animate({"margin-top":"0px",opacity:1},500),e(".vjs-showDescription, .vjs-hideDescription").stop(!0,!0).animate({"margin-top":"0px",opacity:.7},500),e(".playlist-container, .vjs-control-bar").stop(!0,!0).animate({"margin-bottom":"0px"},500),this.options.mobileFullScreenMod(!1),this.element.find("div[class^=vjs], button[class^=vjs], .playlist-container").removeClass("hide"),this.element.find("video").parent().addClass(".vjs-user-active").removeClass("vjs-user-inactive"),
this.isMobileFullScreen=0,e("body").removeClass("ui-full-screen"),this._setTimeClearControls(),e("body").trigger("onShowControls")))},_setTimeClearControls:function(){var a=this;a.clearControls=setTimeout(function(){0<a.element.find(".vjs-playing").length&&a._mobileHideControls(!0)},5E3)}});e.widget("webcollage.playList",{options:{fromTabButton:!1,thumbnailWidth:180,thumbnailHeight:100,thumbnailMargin:10,animationReady:!0,allowKeyboard:!1,alignedLeft:!0,defaultImageIndex:0,availableSteps:0,sliderStep:0,
slideStepPx:0,slideWidthPx:0,sliderWidth:0,sliderItems:0,sliderStepItems:0,slideExtra:0,isSliderUp:!0},_init:function(){this._buildSliderThumbnails();this._getSizes(!0);this._attachEvents();this._selectImage(this.element.find(".wc-thumbnails .wc-thumb")[this.options.defaultImageIndex],this,!1);void 0!==this._override&&this._override()},_buildSliderThumbnails:function(){var a=this.options.json.medias;this.options.isMobile&&(this.options.thumbnailWidth=150,this.options.thumbnailHeight=84);var b=a.length*
(this.options.thumbnailWidth+this.options.thumbnailMargin)-this.options.thumbnailMargin;this.options.sliderWidth=b;var c=this.element.find(".wc-thumbnails ul");c.css({width:b+"px"});1===a.length&&this.element.css("display","none");for(b=0;b<a.length;++b){var d=this.options.videoTexts.selectAndPlayVideo+" "+(a[b].caption?a[b].caption:b+1);d=e('<li class="wc-thumb" data-place="'+b+'" style="height:'+this.options.thumbnailHeight+"px!important;width:"+this.options.thumbnailWidth+"px!important;margin-left:"+
(0===b?0:this.options.thumbnailMargin)+'px!important;"><button aria-label="'+d+'" data-thumbnailcaption="'+d+'" data-text="sliderThumbTooltip" type="button" style="display:block;width:'+this.options.thumbnailWidth+"px;height:"+this.options.thumbnailHeight+'px;"><img src="'+a[b].thumbnail.src+'" alt=""/><div class="shadow"></div></button></li>');this.options.sliderItems++;c.append(d)}this.element.find(".slideLeft").addClass("disabled").find("button").attr("disabled","true")},_getSizes:function(){var a=
this;0!==a.element.find(".wc-thumbnails").innerWidth()&&a.options.slideWidthPx!==a.element.find(".wc-thumbnails").innerWidth()&&(a.options.sliderWidth=a.element.find(".wc-thumbnails ul").innerWidth(),a.options.slideWidthPx=a.element.find(".wc-thumbnails").innerWidth(),a.options.sliderStepItems=Math.floor(a.element.find(".wc-thumbnails").innerWidth()/(a.options.thumbnailWidth+a.options.thumbnailMargin)),a.options.slideStepPx=(a.options.thumbnailWidth+a.options.thumbnailMargin)*a.options.sliderStepItems,
a.options.slideWidthPx>=a.options.sliderWidth?a.element.addClass("hiddenControls"):(a.element.removeClass("hiddenControls"),a.options.availableSteps=Math.floor(a.options.sliderWidth/a.options.slideStepPx),a.options.slideExtra=a.options.sliderWidth-a.options.availableSteps*a.options.slideStepPx-(a.options.slideWidthPx-a.options.slideStepPx),this.element.find(".controls>div").click(function(){var b=e(this).attr("data-dir");a._slide(b,a)}),this.element.find(".wc-thumbnails").on("swipeleft",function(b){b.stopPropagation();
b.preventDefault();a._slide("right",a)}),this.element.find(".wc-thumbnails").on("swiperight",function(b){b.stopPropagation();b.preventDefault();a._slide("left",a)})),0!==a.options.sliderStep&&(a.options.alignedLeft=!0,a.options.sliderStep=0,a.element.find(".wc-thumbnails ul").css({left:"0px"})),a.element.find(".slideLeft").addClass("disabled").find("button").attr("disabled","true"),a.element.find(".slideRight").removeClass("disabled").find("button").removeAttr("disabled"))},_attachEvents:function(){var a=
this;a.element.data("window-size",e(window).width());e("body").on("onActiveContent",function(){a.element.closest(".wc-iframe-content").hasClass("active")&&a.element.data("window-size")!==e(window).width()&&(a.options.galleryElement.trigger("resizeSlider"),a.options.galleryElement.trigger("resizeViewer"),a.element.data("window-size",e(window).width()))});e("body").on("onShowControls",function(){a.options.galleryElement.trigger("resizeSlider");a.options.galleryElement.trigger("resizeViewer");a.element.data("window-size",
e(window).width())});e(window).resize(function(){a.element.closest(".wc-iframe-content").hasClass("active")&&a.element.data("window-size")!==e(window).width()&&(a.options.galleryElement.trigger("resizeSlider"),a.options.galleryElement.trigger("resizeViewer"),a.element.data("window-size",e(window).width()))});window.addEventListener("orientationchange",function(){a.options.galleryElement.trigger("resizeSlider");a.element.data("window-size",e(window).width())});this.options.galleryElement.on("resizeSlider",
function(){a._getSizes(!1)});e(document).click(function(b){a.options.allowKeyboard="shadow"===b.target.className});this.element.find(".wc-thumbnails .wc-thumb button").focus(function(){var b=e(document.activeElement).parent().data("place");Math.floor(b/a.options.sliderStepItems)!==a.options.sliderStep&&setTimeout(function(){a.options.fromTabButton=!0;a._focus("",a,b)},200)});this.element.find(".wc-thumbnails .wc-thumb").click(function(){a.options.allowKeyboard=!0;a._selectImage(this,a,!0)});this.options.galleryElement.on("mediaChanged",
function(b,c){b=a.element.find(".wc-thumb.selected").data("place");"left"===c?b--:b++;var d=a.element.find('.wc-thumb[data-place="'+b+'"]');Math.floor(b/a.options.sliderStepItems)!==a.options.sliderStep&&a._focus(c,a,b);a._selectImage(d,a,!0)});this.options.galleryElement.on("destroyFullScreen",function(){a.destroy()})},_selectImage:function(a,b,c){b.element.find('.wc-thumbnails ul li[class*="selected"]').removeClass("selected");e(a).addClass("selected").find("button");c&&b._trigger("thumbnailClicked",
null,{media:b.options.json.medias[e(a).data("place").toString()],index:e(a).data("place").toString()})},_focus:function(a,b,c){a=(b.options.sliderStep-Math.floor(c/b.options.sliderStepItems))*b.options.slideStepPx;b._slide(0<a?"left":"right",b,Math.abs(a))},_slide:function(a,b,c){var d=parseInt(b.element.find(".wc-thumbnails ul").css("left"),10);if(!0===b.options.animationReady)switch(a){case "left":0<b.options.sliderStep&&(a=c||b.options.slideStepPx,1===b.options.sliderStep&&(!1===b.options.alignedLeft&&
(a=b.options.slideExtra,b.options.alignedLeft=!0),b.element.find(".slideLeft").addClass("disabled").find("button").attr("disabled","true")),c&&!1===b.options.alignedLeft?(b._animate(d+a-b.options.slideStepPx+b.options.slideExtra,b),b.options.sliderStep-=c/b.options.slideStepPx,b.options.alignedLeft=!0):(b._animate(d+a,b),b.options.sliderStep=c?b.options.sliderStep-c/b.options.slideStepPx:b.options.sliderStep-1),b.element.find(".slideRight").removeClass("disabled").find("button").removeAttr("disabled"));
break;case "right":b.options.sliderStep<b.options.availableSteps&&(a=c||b.options.slideStepPx,b.options.sliderStep===b.options.availableSteps-1&&(!0===b.options.alignedLeft&&(a=b.options.slideExtra,b.options.alignedLeft=!1),b.element.find(".slideRight").addClass("disabled").find("button").attr("disabled","true")),c&&!0===b.options.alignedLeft&&b.options.availableSteps-1===b.options.sliderStep?(b._animate(d-a+b.options.slideStepPx-b.options.slideExtra,b),b.options.sliderStep+=c/b.options.slideStepPx,
b.options.alignedLeft=!1):(b._animate(d-a,b),b.options.sliderStep=c?b.options.sliderStep+c/b.options.slideStepPx:b.options.sliderStep+1),b.element.find(".slideLeft").removeClass("disabled").find("button").removeAttr("disabled"));break;default:throw Error("Should not be here");}},_animate:function(a,b){b.options.animationReady=!1;var c=500;!0===b.options.fromTabButton&&(c=0);b.element.find(".wc-thumbnails ul").animate({left:a},c,"easeOutExpo",function(){b.options.animationReady=!0;b.options.fromTabButton=
!1})}})})(jQuery);